<!DOCTYPE html>













<html class="theme-next gemini" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="RASIS">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="RASIS">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RASIS">






  <link rel="canonical" href="http://yoursite.com/page/2/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>RASIS</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117165027-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117165027-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RASIS</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-8-puzzle">
    <a href="/eight-puzzle/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-puzzle-piece"></i> <br>8-Puzzle</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-xiangqi">
    <a href="/xiangqi/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-gamepad"></i> <br>XiangQi</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/15/leetcode-91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/15/leetcode-91/" itemprop="url">
                  【LeetCode】91. Decode Ways
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-15 15:59:23" itemprop="dateCreated datePublished" datetime="2018-11-15T15:59:23+09:00">2018-11-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/decode-ways/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Given a non-empty string <code>s</code> containing digits from <strong>0</strong> to 26 with size <code>n</code>, determine the total number of ways to decode it by characters ‘A’ to ‘Z’.</p>
<h2 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h2><p>This is a typical dynamic programming problem on a sequence. It is not quite hard to come out the representation of states but, in this problem, several situations need to be considered.</p>
<p>At the beginning, I used <code>F[i]</code> to represent the answer of the subsequence from <code>0</code> to <code>i</code>, both inclusively. However, it was quite hard to determine the relationships between <code>F[i]</code> and <code>F[i - 1]</code>. Therefore, I came out another representation.</p>
<ul>
<li>Let <code>F[i]</code> be the answer of the subsequence from <code>0</code> to <code>i</code>, both inclusively, whose all decode ways are <strong>end by the character at position <code>i</code></strong>.</li>
<li>Let <code>G[i]</code> be the answer of the subsequence from <code>0</code> to <code>i</code>, both inclusively, whose all decode ways are <strong>end by the character combined by position <code>i</code> and <code>i - 1</code></strong>.</li>
<li>The final answer will be <code>F[n - 1] + G[n - 1]</code>.</li>
</ul>
<p>After that, we need to consider following rules,</p>
<ol>
<li><code>F[0] = 1</code>, <code>G[0] = 0</code>.</li>
<li><code>s[i]</code> can be along(<code>s[i] != &#39;0&#39;</code>), so <code>F[i] = F[i - 1] + G[i - 1]</code>.</li>
<li><code>s[i]</code> cannot be along, so <code>F[i] = 0</code>.</li>
<li><code>s[i]</code> can combine with <code>s[i - 1]</code>, so <code>G[i] = F[i - 1]</code>.</li>
<li><code>s[i]</code> cannot combine with <code>s[i - 1]</code>, so <code>G[i] = 0</code>.</li>
<li>There is a <code>0</code> in the string, and no other digits can combine with it.</li>
<li><code>s[0] == &#39;0&#39;</code>, and the answer is <code>0</code>.</li>
</ol>
<p>Therefore, for any <code>1 &lt;= i &lt; n</code>, we may consider two boolean value, <code>can_along</code> and <code>can_combine</code>. If both of them are false, Rule 6 satisfies and just return <code>0</code>.</p>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><a href="/2018/11/15/leetcode-91/leetcode-91.pdf" title="My Solution">My Solution</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/06/leetcode-818/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/06/leetcode-818/" itemprop="url">
                  【LeetCode】818. Race Car
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-06 22:19:32" itemprop="dateCreated datePublished" datetime="2018-11-06T22:19:32+09:00">2018-11-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/race-car/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>硬核DP问题，本问题设计状态转移方程较为困难。</p>
<p>给定初始位置<code>pos</code>为<code>0</code>，速度<code>speed</code>为<code>1</code>的“汽车”，有两种指令<code>A(Accelerate)</code>和<code>R(Reverse)</code>可供使用：</p>
<ul>
<li><code>A</code>指令可使汽车的位置变为<code>pos + speed</code>，同时<code>speed *= 2</code>；</li>
<li><code>R</code>指令可重置汽车的速度为<code>1</code>，且方向相反。（您可能会担忧速度为<code>0</code>的情况，但这种情况并不存在）</li>
</ul>
<p>现给出一个目标位置<code>target</code>，求出到达此位置使用的最少的操作数目。</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>状态定义如下：</p>
<p><strong>令<code>F[i]</code>表示到达位置<code>i</code>所需要的最少操作数目。</strong></p>
<p>状态转移方程的定义涉及到几种情况的讨论，首先定义好边界条件：</p>
<p><strong><code>F[0] = 0</code></strong></p>
<p>其次，设计状态转移方程时要考虑到3种情况，为了说明清楚这些情况，您需要在脑中描绘一根数轴。初始时，汽车处于原点位置，考虑汽车永远不进行<code>R</code>操作，一直往前开的情况，很容易发现，进行<code>n</code>次<code>A</code>操作到达的位置为$2^n - 1$，假定目的地为<code>t</code>，那么有</p>
<ol>
<li><p>存在$n \in N$，使得$t = 2^n - 1$，那么此时的答案<code>F[t] = n</code>。一路往前开即使最优解，任何的倒车操作都是无用的。</p>
</li>
<li><p>汽车开过了位置<code>t</code>，并从<code>t</code>右侧开回到<code>t</code>。</p>
<p> 这种情况下，要明白一个重要事实：</p>
<p> <strong>汽车一定会在刚刚开过<code>t</code>时执行<code>R</code>操作反向，没有必要继续远离<code>t</code>往前开。</strong></p>
<p> 由于从位置$2^n - 1$能够反向回到$2^{n - 1}$且所需的步数与从$0$到$2^{n - 1} - 1$所需步数一致（可以参考这个例子，0-&gt;1-&gt;3-&gt;7-&gt;15-&gt;15-&gt;14-&gt;12-&gt;8，从15到8经过3步，从0到7也经过3步），因此若继续往前开，反向后经过一定的步数后必定会回到上个位置，因此往前开是徒增花费的无意义动作。</p>
<p> 因此，这种情况下，可以得到下列状态转移方程：</p>
<p> <strong><code>F[i] = n + 1 + F[n - i]</code></strong></p>
<p> 其中，<code>n = ceil(log2(i))</code>，代表距离<code>t</code>最近的右侧的能够全程加速开到的位置，开到后，执行反向操作<code>R</code>耗费1点，之后以位置<code>n</code>为原点，看作是一个从<code>0</code>到位置<code>n - i</code>的子问题。</p>
</li>
<li><p>汽车未开过位置<code>t</code>，进行了反向操作。</p>
<p> 在这种情况下，汽车会在到达位置<code>t</code>之前至少进行两次<code>R</code>操作，调整其位置。那么在这种情况下，可以得到下列状态转移方程：</p>
<p> <strong><code>F[i] = j + k + 2 + F[i - (2^j - 2^k)]</code></strong></p>
<p> 其中，<code>j</code>表示第一段连续的<code>A</code>操作的个数，<code>k</code>表示第一次反向后倒退的<code>A</code>操作的个数，<code>2</code>表示两次反向操作，而后可以看作是从新位置到位置<code>i</code>的一个子问题，其中新位置等于前进距离与倒退距离的差$(2^j - 1) - (2^k - 1)$。这里要注意<code>j</code>和<code>k</code>的取值范围，<code>j</code>的范围是<code>0 &lt;= j &lt; n</code>，因为当前情况下不得开过位置<code>t</code>；<code>k</code>的取值范围是<code>0 &lt;= k &lt; j</code>，当<code>k == 0</code>时代表<strong>原地重置速度</strong>，当<code>k == j</code>时则相当于没开。</p>
</li>
</ol>
<p>综上所述，可以得到状态及状态转移方程如下：</p>
<p><strong>F[i]表示到达位置i所需要的最少操作数目</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">F[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">n = <span class="built_in">ceil</span>(log2(i + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">2</span>^n - <span class="number">1</span>) &#123;</span><br><span class="line">    F[i] = log2(i + <span class="number">1</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    F[i] = min&#123;n + <span class="number">1</span> + F[n - i], min(<span class="number">0</span>&lt;=j&lt;n, <span class="number">0</span>&lt;=k&lt;j)&#123;j + k + <span class="number">2</span> + F[i - (<span class="number">2</span>^j - <span class="number">2</span>^k)]&#125;&#125; \\ 情况<span class="number">2</span>和<span class="number">3</span>中取最小，<span class="number">3</span>须枚举一下j, k的值。</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>未证明</strong> 情况3中<code>j</code>可固定为<code>n - 1</code>。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/11/06/leetcode-818/leetcode-818.pdf" title="My Solution">My Solution</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/26/leetcode-198/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/26/leetcode-198/" itemprop="url">
                  【LeetCode】198. House Robber
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-26 19:53:16" itemprop="dateCreated datePublished" datetime="2018-10-26T19:53:16+09:00">2018-10-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/house-robber/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>在一个数组中选出和最大的互不相邻的子序列，输出其和。</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>作为入门级的动态规划问题，本题实现是非常简单的。本问题与0/1背包问题十分相似，最重要的是想明白动态规划的基本原理。</p>
<p>本题须按照动态规划的思路划分子问题。分治、贪心和动态规划各有不同的角度看待一个问题的子问题，就本题来说，从动态规划的角度出发，对于某一个位置为<code>i</code>的数，只有“选择”和“不选择”两种选择，我们须取这两种选择中和比较大的那个，那么定义长度为<code>i</code>的数组<code>arr</code>的所求最大和为<code>F[i]</code>，则有</p>
<p><code>F[i] = max(arr[i] + F[i - 2], F[i - 1])</code></p>
<p>其中，<code>max</code>函数的第一个参数表示选择位置为<code>i</code>的数所得结果，第二个参数表示不选择，通过这样的方式将原问题划分为了两个子问题。</p>
<p>显然，并不需要递归来实现这个式子，最终仅需要一次遍历，在常数的空间复杂度内即可求得结果<code>F[n]</code>。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/10/26/leetcode-198/leetcode-198.pdf" title="My Solution">My Solution</a>

<p><code>prevMax</code>代表<code>F[i - 1]</code>， <code>pprevMax</code>代表<code>F[i - 2]</code>，这两个值并不需要全部保留，每轮进行更新即可。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/20/leetcode-765/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/20/leetcode-765/" itemprop="url">
                  【LeetCode】765. Couples Holding Hands
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-20 15:21:41" itemprop="dateCreated datePublished" datetime="2018-10-20T15:21:41+09:00">2018-10-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/couples-holding-hands/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><p>N对情侣希望坐在2N个座位上，每个情侣希望坐到相邻的位置，请通过最少次的座位交换达成此目的。</p>
<h2 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h2><p>本题目看似可以进行状态搜索，但实际上状态空间十分巨大，很难做到。直观来看，每一次交换至少可以使一对情侣坐到一起，且至多可使两对情侣坐到一起。</p>
<p>很容易想到如下贪心策略：</p>
<ul>
<li>每次令最左边的一对情侣坐到一起，将其移出，重复此操作直至所有情侣都坐到一起。</li>
</ul>
<p>事实上这个策略是正确的，您可能会有一些顾虑，例如</p>
<ol>
<li>当次交换可能可使两对情侣坐到一起，但却没有执行这个操作。</li>
<li>可能存在更好的交换选择，使得后面尽可能多地出现“能恰好使两对情侣坐到一起”的情况。</li>
</ol>
<p>对于1，可以想到的是即使当次没有那两对情侣，但这并不影响后面进行这步操作，因为当次交换一定不会涉及到互相坐错的两对情侣的位置。</p>
<p>对于2，实际上这种情况并不存在。一次交换至多产生两个“相互坐错”的情况，但仅当当次交换是一次无用的交换（没有使任何情侣坐到一起），才有可能产生两个“相互坐错”，这种情况下算上这次无用的交换依然要交换三次，因此有用的交换至少不会比无用的交换差；其次如果某个交换能够产生一个“相互坐错”，其他情侣的配对并不会影响到这个交换之后的实施，因此这样做是没有问题的。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/10/20/leetcode-765/leetcode-765.pdf" title="本人解答">本人解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/17/leetcode-55/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/17/leetcode-55/" itemprop="url">
                  【LeetCode】55. Jump Game
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-17 18:38:02" itemprop="dateCreated datePublished" datetime="2018-10-17T18:38:02+09:00">2018-10-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/jump-game/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>给定一个非负整数的数组，从起始位置开始跳跃，每个数字代表能够跳跃的最大距离，判断是否能够跳跃到末尾位置。</p>
<h2 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h2><p>回顾贪心算法的两个要素：</p>
<ul>
<li>在当前状态能够找到一个安全的行动；</li>
<li>问题具有最优子结构。</li>
</ul>
<p>很容易看出，本题具有最优子结构。每次将跳跃到的位置之前的元素删除，即可得到与原问题性质一致、但规模较小的子问题——在剩下的较小的数组中判断是否能从起始位置跳到末尾位置。因此尝试使用贪心算法解决本问题。</p>
<p>现在应当考虑如何进行安全的一步操作，以制定贪心策略，进一步来说，问题可以理解成视解为下标的一个序列，能否跳跃到一个在这个序列当中的一个位置。</p>
<p>错误的贪心策略可能有：</p>
<ul>
<li>从起始位置出发，每次跳跃到最远的位置。</li>
<li>从起始位置出发，每次跳跃到数字最大的位置。</li>
<li>从起始位置出发，每次跳跃到能够到达的位置的值之和最大的位置。</li>
<li>…</li>
</ul>
<p>要注意的是，数组的起始位置不一定在解当中，因此从起始位置起步是不合适的，从末尾位置开始才是正解。</p>
<p>正确的贪心策略是：</p>
<p>从末尾位置出发向前找，每次找一个能够跳到末尾位置的位置，并从这个新位置出发重复寻找操作，直到回到了起始位置（成功）或无法再往前跳跃（失败）。</p>
<p>这样确保了每次都能找到一个在解中的位置，并且当多个位置满足要求时，由于它们都能到达同一个位置，这些位置也是相互能回溯到的。</p>
<p>如此这般，本题能够在遍历一遍数组（$O(n)$)的情况下返回结果。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/10/17/leetcode-55/leetcode-55.pdf" title="本人解答">本人解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/22/leetcode-839/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/22/leetcode-839/" itemprop="url">
                  【LeetCode】839. Similar String Groups
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-22T00:00:00+09:00">2018-09-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/similar-string-groups/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>定义两个字符串<code>X</code>和<code>Y</code>相似如下：</p>
<p>交换<code>X</code>中任意两个字符的位置一次，得到字符串<code>Y</code>。</p>
<p>给定一个所有字符串长度相同的字符串数组，求出其中两两相似的字符串的集合数。</p>
<h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><p>将字符串看作“顶点”，将相似看作“边”，那么本题要求解的就是这个无向图中连通分量的个数；而对于一个无向图，仅需要一次深度优先搜索即可得到连通分量的个数。因此，本题可以分解为以下几个基本步骤：</p>
<ul>
<li>求图</li>
<li>深度优先搜索</li>
</ul>
<h3 id="求图"><a href="#求图" class="headerlink" title="求图"></a>求图</h3><p>对于数组中的字符串进行遍历，判断两两是否相似，相似则构建一条无向边。判断相似则是遍历数组<code>X</code>，找到前两个与<code>Y</code>不相同的字符，交换其位置并判断是否相等。设数组长度为$n$，字符串长度为$m$，那么这一步的时间复杂度为：</p>
<p>$$<br>O(n^2m)<br>$$</p>
<h3 id="深度优先搜索"><a href="#深度优先搜索" class="headerlink" title="深度优先搜索"></a>深度优先搜索</h3><p>得到这一张无向图之后，对其进行深度优先搜索即可得到连通分量的个数，这一步的复杂度为点数与边数的和，顶点数已确定为$n$，那么在最坏情况下，一张全连通图的边数为</p>
<p>$$<br>\frac{n(n-1)}{2}<br>$$</p>
<p>那么这一步的时间复杂度为</p>
<p>$$<br>O(n^2)<br>$$</p>
<p>因此整个算法的时间复杂度为</p>
<p>$$<br>O(n^2m)<br>$$</p>
<p>本题除了要用到图论的思想外，自顶向下逐步分解也是比较重要的。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/09/22/leetcode-839/leetcode_839.pdf" title="本人解答">本人解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/15/leetcode-327/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/15/leetcode-327/" itemprop="url">
                  【LeetCode】327. Count of Range Sum
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-15 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-15T00:00:00+09:00">2018-09-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/count-of-range-sum/description/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>本题要在一个数组中寻找子数组，使得其和落在指定区间内，输出满足条件的数组的个数。要求复杂度低于$O(n^2)$。</p>
<h2 id="方法一-暴力求解"><a href="#方法一-暴力求解" class="headerlink" title="方法一  暴力求解"></a>方法一  暴力求解</h2><p>您很容易想到$O(n^2)$的暴力求解方法，仅须两层循环将所有子序列的和求出来即可，代码简单，运行的结果也很明了——TLE。</p>
<h2 id="方法二-修改版归并排序"><a href="#方法二-修改版归并排序" class="headerlink" title="方法二  修改版归并排序"></a>方法二  修改版归并排序</h2><p>事实上，本题是一个归并排序的题目。</p>
<h3 id="Step-1-求前n项和数组"><a href="#Step-1-求前n项和数组" class="headerlink" title="Step 1 求前n项和数组"></a>Step 1 求前n项和数组</h3><p>由于寻找子数组是一个十分麻烦的事情，首先要将原问题进行转化。很容易想到，对于序列$a_i$，任意一个子序列的和</p>
<p>$$<br>S(a)_{ij} = S(a)_i - S(a)_j<br>$$</p>
<p>因此对于输入长度为$n$的数组$A$，可以求得一个长度为$n+1$的前n项和数组$S$，那么问题就转化为在该数组中寻找一个元组$(i, j)$，使得</p>
<p>$$<br>lower \le S_j - S_i \le upper, i \le j<br>$$</p>
<p>因此算法的第一步是求前n项和数组$S$，遍历一遍数组即可，复杂度为$O(n)$。</p>
<h3 id="Step-2-分治"><a href="#Step-2-分治" class="headerlink" title="Step 2 分治"></a>Step 2 分治</h3><p>最容易想到的分治就是对半分，本题用对半分对原问题进行分解也是足够的。求给定前n项和数组满足条件的元组个数，先求其前半部分的元组个数，再求其后半部分的元组个数，最后进行组合。根据大师定理，有复杂度的递归表达式</p>
<p>$$<br>T(n) = 2T(\frac{n}{2}) + O(?)<br>$$</p>
<p>要使得复杂度低于$O(n^2)$，表达式最后的项也必须低于$O(n^2)$，也就是组合的过程复杂度不能出现两层循环。</p>
<p>直观来看，对于两个长度为$\frac{n}{2}$的子数组，已知各自满足条件的元组个数，那么剩下的事情就是各自寻找一个元素组成元组，看是否满足题目要求——后面的与前面的差落在给定范围内，显然，对于两个无序的数组是很难做到复杂度低于$O(n^2)$的，那么考虑将数组排序。</p>
<p>对于两个有序的数列，可以在$O(n)$的复杂度内找到满足条件的元组个数，令两个数组为$L$，$R$，首先有，如果</p>
<p>$$<br>R_m - L_i \ge lower \<br>R_n - L_i \le upper \<br>m \le n<br>$$</p>
<p>那么与$L_i$能组成的元组个数即为$n - m$，其次有一个简单但是十分的重要发现，若有</p>
<p>$$<br>R_m - L_i &lt; lower \<br>R_n - L_i \le upper<br>$$</p>
<p>则，</p>
<p>$$<br>R_m - L_k &lt; lower \ \forall k \in [0, i] \<br>R_n - L_k \le upper \ \forall k \in [0, i]<br>$$</p>
<p>也就是说，对于每一个在$L$中的元素，并不需要便利所有$R$中的元素以找到$m, n$的值，由于$m, n$的值只会增加，不会减少，因此对于所有$L$中的元素仅须便利一次$R$即可，复杂度降为$O(n)$。</p>
<p>那么最后的问题就是如何得到两个有序的子数列，直接排序会使得复杂度提升为$O(nlogn)$，显然是行不通的。很容易看到这个分治的过程与归并排序的过程一致，因此在过程中“顺便”给每个子数组进行归并排序即可，即把当前的计数求出来后，将两个数组按归并排序算法合成即可，复杂度为$O(n)$。</p>
<p>最终，根据大师定理，对于递归表达式</p>
<p>$$<br>T(n) = 2T(\frac{n}{2}) + O(n)<br>$$</p>
<p>整个算法的复杂度为$T(n) = O(nlogn)$，题目也接受了这个复杂度，Accepted。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/09/15/leetcode-327/leetcode_327.pdf" title="本人解答">本人解答</a>

<p>用了一个<code>std::inplace_merge</code>简化了归并操作，注意要先向下分解，从最底层开始求次数、归并。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/08/leetcode-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/08/leetcode-4/" itemprop="url">
                  【LeetCode】4. Median of Two Sorted Arrays
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-08 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-08T00:00:00+09:00">2018-09-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/median-of-two-sorted-ays/description/" target="_blank" rel="noopener">传送门</a></p>
<h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><p>本题目要求以对数级别的时间复杂度求得两个“有序”数组“共同”的中位数。虽然在时间复杂度上看似有十分严格的要求，但在掌握了题目的核心要点之后，您会发现本题实际上并不困难。</p>
<h2 id="方法一-数组合并"><a href="#方法一-数组合并" class="headerlink" title="方法一  数组合并"></a>方法一  数组合并</h2><p>直接将两个数组合并成一个数组，并取其中位数是最直观能想到的办法，但是显而易见的是这个方法的时间复杂度肯定是多项式级别。若两个数组的长度分别是$m$、$n$，那么将这两个数组合并须遍历一遍合并之后得到的数组，即时间复杂度为</p>
<p>$$<br>O(m+n)<br>$$</p>
<p>显然，这并不是满足题目要求的算法。（然而我做的时候这个算法居然通过了，速度还和二分查找方法一致）</p>
<h2 id="方法二-二分查找"><a href="#方法二-二分查找" class="headerlink" title="方法二  二分查找"></a>方法二  二分查找</h2><p>如果您想到一些目标是$O(logn)$的优化方法，例如二分法、二叉树等，但是并不知道该如何应用到本题上的话，可能是您对中位数的理解还不够透彻。在本题中，要从两个数组中找到中位数，可以考虑如下思路，</p>
<ul>
<li>将数组重新组合成长度相等或长度相差不超过1；</li>
<li>两个数组必须满足某一个的最大值不大于另一个的最小值。</li>
</ul>
<p>对于两个长度分别为$m$和$n$的有序数组$X$、$Y$，一定存在下标$i$，$j$，使得$X[0:i]$与$Y[0:j]$组成的数组$L$和$X[i:m]$与$Y[i:n]$组成的数组$R$满足上述两个条件，并且$i$与$j$满足如下关系，</p>
<p>$$<br>i + j = m - i + n - j<br>$$</p>
<p>即</p>
<p>$$<br>j = \frac{m + n - 2i}{2}<br>$$</p>
<p>同时，考察$Left$的最后一个值和$Right$的第一个值，即可得到中位数。换言之，只要求得$i$，本题得解。</p>
<p>问题已经转化为求分割数组$X$的那个下标，这时很自然的就可以想到使用复杂度为$O(logn)$二分查找，对于有序数组$X$，设正确分割的下标为$i_0$，对于下标$i$，得到$L$，$R$，则有</p>
<p>$$<br>L[i] &gt; R[0] \wedge L[i] = X[i] \Rightarrow i &gt; i_0 \<br>L[i] &gt; R[0] \wedge L[i] = Y[j] \Rightarrow i &lt; i_0 \<br>L[i] &lt;= R[0] \Rightarrow i = i_0<br>$$</p>
<p>通过上述条件，可以判断真实值是在当前值的前边还是后边，满足二分查找的条件，可用二分查找得到$i_0$。</p>
<p>特别的，原数组为空时要做特殊处理。</p>
<p>这个方法的时间复杂度与二分查找的时间复杂度相同，本质上说，本题是一个二分查找的题目。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/09/08/leetcode-4/leetcode_4.pdf" title="Submission Detail by Myself">Submission Detail by Myself</a>

<p>（倒是花了很多时间在边界和特殊情况处理上）</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/27/domain-model/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/27/domain-model/" itemprop="url">
                  领域建模基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-04-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-27T00:00:00+09:00">2018-04-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>A domain model is a system of abstractions that describes selected aspects of a sphere of knowledge, influence or activity (a domain). The model can then be used to solve problems related to that domain. The domain model is a representation of meaningful real-world concepts pertinent to the domain that need to be modelled in software. The concepts include the data involved in the business and rules the business uses in relation to that data.</p>
</blockquote>
<p>领域模型是您在使用UML解决软件需求问题时最有力的武器之一，它不仅能够梳理业务逻辑，而且与数据库模型设计直接相关。一个好的领域模型能够使您在设计、编码阶段事半功倍。</p>
<h2 id="构建领域模型"><a href="#构建领域模型" class="headerlink" title="构建领域模型"></a>构建领域模型</h2><p>还记得在<a href="/2018/04/13/applying-uml">使用UML工具进行业务分析</a>一文中的典例——早期预定旅馆业务<code>Asg_RH</code>，本例将会对此业务中主要的用例进行领域建模。</p>
<p>先回顾一下用例模型，</p>
<p><img src="/assets/images/2018-04-13-applying-uml/20180413-181658.png" alt></p>
<p>对应文档中的Task2，我们对其中主要的4个用例<code>Get a list of specified hotels</code>，<code>Choose a hotel</code>，<code>Submit a reservation request to shopping basket</code>和<code>Pay for the reservations in the shopping basket by credit cards</code>进行领域建模。</p>
<table>
<thead>
<tr>
<th align="center"><img src="/2018/04/27/domain-model/20180427-105312.png"></th>
<th align="center"><img src="/2018/04/27/domain-model/20180427-110924.png"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/2018/04/27/domain-model/20180427-111013.png"></td>
<td align="center"><img src="/2018/04/27/domain-model/20180427-111102.png"></td>
</tr>
</tbody></table>
<h2 id="构建E-R模型"><a href="#构建E-R模型" class="headerlink" title="构建E-R模型"></a>构建E-R模型</h2><p>根据领域模型，构建E-R模型就相当容易了。数据库模式设计是一个令人头大的问题，尤其是需求频繁更改的时候，更改数据库表的模式往往牵一发而动全身。良好的领域建模，能够规避一部分此类问题。</p>
<p>如下是根据上述领域模型，使用<code>MySQL Workbench</code>建立的E-R模型，</p>
<img src="/2018/04/27/domain-model/20180427-112201.png">

<p>E-R模型与数据库之间相关，您可以直接由E-R模型生成本例中对应的<a href="/2018/04/27/domain-model/Asg_RH.sql" title="SQL语句">SQL语句</a>，实现领域模型-ER模型-SQL代码的流水线。</p>
<h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><p>领域模型和E-R模型是完全不同的两回事，领域模型是高层次的模型，具有许多功能；E-R模型重点关注具体的数据库模式。除了进行数据库模式设计，您还可以通过领域模型来</p>
<ul>
<li>梳理业务逻辑</li>
<li>驱动开发</li>
<li>解释用例</li>
<li>…</li>
</ul>
<p>这些都是数据库逻辑模型无法做到的。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/baidu-asr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/baidu-asr/" itemprop="url">
                  百度语音AI实践
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-04-15 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-15T00:00:00+09:00">2018-04-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在这篇博客中，您将会看到如何使用百度AI开放平台的语音识别技术和UNIT理解与交互技术，实现一个语音控制智能家居的范例。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="注册百度账号"><a href="#注册百度账号" class="headerlink" title="注册百度账号"></a>注册百度账号</h3><h3 id="申请应用"><a href="#申请应用" class="headerlink" title="申请应用"></a>申请应用</h3><p>欲使用百度开放平台的API，要先申请应用，获得API KEY才能通过百度API的鉴权。</p>
<p>在控制台的应用列表中点击创建应用，选择所需接口。</p>
<img src="/2018/04/15/baidu-asr/20180415-135437.png" title="应用列表">

<img src="/2018/04/15/baidu-asr/20180415-135559.png" title="创建新应用">

<p>本例中需要的接口为百度语音的语音识别以及UNIT两类。</p>
<h3 id="获取Token"><a href="#获取Token" class="headerlink" title="获取Token"></a>获取Token</h3><p>在使用百度API前，必须持有百度鉴权发放的Token。获取Token的API如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">### OAuth [GET https://openapi.baidu.com/oauth/2.0/token]</span><br><span class="line"></span><br><span class="line">+ Parameters</span><br><span class="line"></span><br><span class="line">    - grant_type : `client_credentials` (string, required) - 固定值</span><br><span class="line">    - client_id : `Va5yQRHl********LT0vuXV4` (string, required) - API Key</span><br><span class="line">    - client_secret : `0rDSjzQ20XUj5i********PQSzr5pVw2` (string, required) - API Secret Key</span><br><span class="line"></span><br><span class="line">+ Response (application/json)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            &quot;access_token&quot;:&quot;1.a6b7dbd428f731035f771b8d********.86400.1292922000-2346678-124328&quot;,</span><br><span class="line">            &quot;expires_in&quot;:86400,</span><br><span class="line">            &quot;refresh_token&quot;:&quot;2.385d55f8615fdfd9edb7c4b********.604800.1293440400-2346678-124328&quot;,</span><br><span class="line">            &quot;scope&quot;:&quot;public&quot;,</span><br><span class="line">            &quot;session_key&quot;:&quot;ANXxSNjwQDugf8615Onqeik********CdlLxn&quot;,</span><br><span class="line">            &quot;session_secret&quot;:&quot;248APxvxjCZ0VEC********aK4oZExMB&quot;,</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用百度语音识别"><a href="#使用百度语音识别" class="headerlink" title="使用百度语音识别"></a>使用百度语音识别</h2><p>百度语音识别就是将声音文件转化成一段文本，通过调用百度语音提供的REST API完成。如下是一段百度语音识别的API Blueprint（上传文件方式）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">### Baidu ASR [POST http://vop.baidu.com/server_api]</span><br><span class="line"></span><br><span class="line">+ Parameters</span><br><span class="line"></span><br><span class="line">    - cuid : `d0:a6:37:ed:3d:eb` (string, required) - 用户唯一标识符</span><br><span class="line">    - token : `1.a6b7dbd428f731035f771b8d********.86400.1292922000-2346678-124328` (string, required) - 用户认证Token</span><br><span class="line">    - dev_pid : `1537` (int) - 识别码</span><br><span class="line">    - lan : `zh` (string, deprecated) - 历史兼容参数</span><br><span class="line"></span><br><span class="line">+ Request (audio/pcm;rate=16000)</span><br><span class="line"></span><br><span class="line">+ Response (application/json)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            &quot;err_no&quot;:0,</span><br><span class="line">            &quot;err_msg&quot;:&quot;success.&quot;,</span><br><span class="line">            &quot;corpus_no&quot;:&quot;15984125203285346378&quot;,</span><br><span class="line">            &quot;sn&quot;:&quot;481D633F-73BA-726F-49EF-8659ACCC2F3D&quot;,</span><br><span class="line">            &quot;result&quot;:[&quot;北京天气&quot;]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>关于识别码，指定了识别的语言和方式。</p>
<table>
<thead>
<tr>
<th>dev_pid</th>
<th>语言</th>
<th>模型</th>
<th>是否有标点</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>1536</td>
<td>普通话(支持简单的英文识别)</td>
<td>搜索模型</td>
<td>无标点</td>
<td>支持自定义词库</td>
</tr>
<tr>
<td>1537</td>
<td>普通话(纯中文识别)</td>
<td>输入法模型</td>
<td>有标点</td>
<td>不支持自定义词库</td>
</tr>
<tr>
<td>1737</td>
<td>英语</td>
<td></td>
<td>有标点</td>
<td>不支持自定义词库</td>
</tr>
<tr>
<td>1637</td>
<td>粤语</td>
<td></td>
<td>有标点</td>
<td>不支持自定义词库</td>
</tr>
<tr>
<td>1837</td>
<td>四川话</td>
<td></td>
<td>有标点</td>
<td>不支持自定义词库</td>
</tr>
<tr>
<td>1936</td>
<td>普通话远场</td>
<td>远场模型</td>
<td>有标点</td>
<td>不支持自定义词库</td>
</tr>
</tbody></table>
<p>关于请求内容类型，百度语音仅支持3种音频格式：<code>pcm</code>, <code>wav</code>和<code>amr</code>，推荐采样率为16000，推荐编码为16位单声道。</p>
<h2 id="使用百度理解与交互技术UNIT——快速上手"><a href="#使用百度理解与交互技术UNIT——快速上手" class="headerlink" title="使用百度理解与交互技术UNIT——快速上手"></a>使用百度理解与交互技术UNIT——快速上手</h2><p>UNIT（Understanding and Interaction Technology），是百度推出的一套完整的人机智能交互解决方案，理解用户语义并执行相应的操作只是其简单的一个小功能。</p>
<p>您可以将UNIT理解成一个机器人，通过对“任务”的定义和数据的训练，使其具备理解和交互的能力。登陆百度账号后，访问<a href="http://ai.baidu.com/unit" target="_blank" rel="noopener">UNIT主页</a>进行配置。</p>
<h3 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h3><blockquote>
<p>一个场景对应一个独立完整的对话系统，通常按垂类划分（例如，天气场景、电视遥控器场景等）。<br>场景中包含了一系列对话单元用于完成该场景下的所有对话任务（例如，查温度、换台等）。</p>
</blockquote>
<p>场景可以理解为一个智能的可交互对象，新建场景是配置UNIT的第一步，本例中，我们新建一个场景叫做“智能家居控制台”</p>
<img src="/2018/04/15/baidu-asr/20180415-145336.png" title="场景管理">

<h3 id="技能"><a href="#技能" class="headerlink" title="技能"></a>技能</h3><blockquote>
<p>场景中的某个方向的能力。 技能中包含了一系列对话单元或问答单元用于完成该场景下的所有对话任务(例如，智能电视产品包含了换台、调音量、找部电影等一系列对话单元)。 </p>
</blockquote>
<p>技能相当于场景所具备的能力，目前UNIT仅允许用户自定义一个技能，并添加其预置技能。预制技能也暂时仅有两种：“问候”和“电视指令”。</p>
<img src="/2018/04/15/baidu-asr/20180415-145733.png" title="技能管理">

<h3 id="对话单元"><a href="#对话单元" class="headerlink" title="对话单元"></a>对话单元</h3><blockquote>
<p>对话单元代表着产品能够执行的某个特定任务（例如，换到中央台）。</p>
</blockquote>
<p>对话单元是UNIT执行任务不可再分的要素了，一个对话单元对应一个具体的任务或操作，对话单元是我们工作面对的主要对象。</p>
<p>一个对话单元包含意图、词槽、和答复三个部分，<strong>意图</strong>实际上就是一个标识符，标识这个任务，解析意图实际上就是正确识别出一个标识符；<strong>词槽</strong>可以理解为执行这个意图必须的信息，例如“打开灯”这个意图中，打开灯的位置就是一个词槽，用户必须提供能够表示位置的词（例如“客厅”）插入词槽中，这个意图才可以被成功执行；<strong>答复</strong>就是意图执行的结果，答复可以是“直接回复”，也可以是“引导”，直接回复或回复一段文本，或执行一条函数，而引导则是开启另一个对话单元。</p>
<p>点击自定义技能中的新建单元，即可配置一条新单元。</p>
<h3 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h3><p>所有自定义的对话单元都必须经过训练才能保证可用性和准确性，用于训练的最主要手段是样本集，即包含提问和回答的有监督数据。在数据中心中，配置默认集，</p>
<img src="/2018/04/15/baidu-asr/20180415-151316.png" title="数据中心">

<img src="/2018/04/15/baidu-asr/20180415-151357.png" title="默认集">

<p>然后在训练与验证中就能训练并生效模型，一个模型是当前对话单元、训练集的一个快照，模型必须经过训练并生效到沙盒中才能供测试和API调用。</p>
<img src="/2018/04/15/baidu-asr/20180415-151747.png" title="训练与验证">

<h3 id="通用流程"><a href="#通用流程" class="headerlink" title="通用流程"></a>通用流程</h3><p>综上所述，场景是训练的基本单位，得到一个智能交互机器人的通用流程如下：</p>
<ol>
<li>新建一个场景。</li>
<li>定义场景技能。</li>
<li>编制样本集，录入数据中心。</li>
<li>训练。</li>
<li>生效，测试，整合进产品，上线…。</li>
</ol>
<h3 id="REST-API"><a href="#REST-API" class="headerlink" title="REST API"></a>REST API</h3><p>将模型应用到沙盒中去后，就可以通过REST API访问我们训练好的机器人了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">### Unit Utterance [POST https://aip.baidubce.com/rpc/2.0/solution/v1/unit_utterance]</span><br><span class="line"></span><br><span class="line">+ Parameters</span><br><span class="line"></span><br><span class="line">    - access_token : `1.a6b7dbd428f731035f771b8d********.86400.1292922000-2346678-124328` (string, required) - Token</span><br><span class="line"></span><br><span class="line">+ Request (application/json)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            &quot;scene_id&quot;:123,</span><br><span class="line">            &quot;query&quot;:&quot;今天北京天气怎么样?&quot;,</span><br><span class="line">            &quot;session_id&quot;:&quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">+ Response (application/json)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            &quot;log_id&quot;: 1234,</span><br><span class="line">            &quot;result&quot;: &#123;</span><br><span class="line">                &quot;session_id&quot;: &quot;xxx&quot;,</span><br><span class="line">                &quot;action_list&quot;: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;confidence&quot;: 205,</span><br><span class="line">                        &quot;action_id&quot;: &quot;aaa&quot;,</span><br><span class="line">                        &quot;main_exe&quot;: &quot;xxx&quot;,</span><br><span class="line">                        &quot;arg_list&quot;: [</span><br><span class="line">                            &quot;string&quot;,</span><br><span class="line">                            &quot;string&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;exe_status&quot;: [],</span><br><span class="line">                        &quot;say&quot;: &quot;xxx&quot;,</span><br><span class="line">                        &quot;hint_list&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;hint_query&quot;: &quot;11111&quot;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;hint_query&quot;: &quot;2222222&quot;</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;action_type&quot;: &#123;</span><br><span class="line">                            &quot;act_type&quot;: &quot;clarify&quot;,</span><br><span class="line">                            &quot;act_target&quot;: &quot;slot&quot;,</span><br><span class="line">                            &quot;act_target_detail&quot;: &quot;loc&quot;,</span><br><span class="line">                            &quot;act_type_detail&quot;: &quot;&quot;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &quot;code_actions&quot;: &#123;&#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                &quot;schema&quot;: &#123;</span><br><span class="line">                    &quot;current_qu_intent&quot;: &quot;xxx&quot;,</span><br><span class="line">                    &quot;intent_confidence&quot;: 3,</span><br><span class="line">                    &quot;bot_merged_slots&quot;: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            &quot;begin&quot;: 10,</span><br><span class="line">                            &quot;length&quot;: 15,</span><br><span class="line">                            &quot;original_word&quot;: &quot;word&quot;,</span><br><span class="line">                            &quot;normalized_word&quot;: &quot;word&quot;,</span><br><span class="line">                            &quot;word_type&quot;: &quot;string&quot;,</span><br><span class="line">                            &quot;type&quot;: &quot;XXX&quot;,</span><br><span class="line">                            &quot;confidence&quot;: 2,</span><br><span class="line">                            &quot;session_offset&quot;: 0,</span><br><span class="line">                            &quot;merge_method&quot;: &quot;add&quot;</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;qu_res&quot;: &#123;</span><br><span class="line">                    &quot;intent_candidates&quot;: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            &quot;extra_info&quot;: null,</span><br><span class="line">                            &quot;func_slot&quot;: &quot;&quot;,</span><br><span class="line">                            &quot;intent&quot;: &quot;SYS_WEATHER&quot;,</span><br><span class="line">                            &quot;intent_confidence&quot;: 99.999938964844,</span><br><span class="line">                            &quot;intent_need_clarify&quot;: false,</span><br><span class="line">                            &quot;from_who&quot;: &quot;&quot;,</span><br><span class="line">                            &quot;match_info&quot;: &quot;&quot;,</span><br><span class="line">                            &quot;slots&quot;: [</span><br><span class="line">                                &#123;</span><br><span class="line">                                    &quot;confidence&quot;: 99.99959564209,</span><br><span class="line">                                    &quot;length&quot;: 4,</span><br><span class="line">                                    &quot;normalized_word&quot;: &quot;2017-05-25&quot;,</span><br><span class="line">                                    &quot;offset&quot;: 0,</span><br><span class="line">                                    &quot;original_word&quot;: &quot;今天&quot;,</span><br><span class="line">                                    &quot;type&quot;: &quot;sys_time&quot;,</span><br><span class="line">                                    &quot;word_type&quot;: &quot;&quot;,</span><br><span class="line">                                    &quot;need_clarify &quot;: true</span><br><span class="line">                                &#125;</span><br><span class="line">                            ]</span><br><span class="line">                        &#125;</span><br><span class="line">                    ],</span><br><span class="line">                    &quot;lexical_analysis&quot;: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            &quot;basic_word&quot;: [</span><br><span class="line">                                &quot;中国&quot;</span><br><span class="line">                            ],</span><br><span class="line">                            &quot;type&quot;: &quot;21&quot;,</span><br><span class="line">                            &quot;term&quot;: &quot;中国&quot;,</span><br><span class="line">                            &quot;weight&quot;: 0.1911181211471558</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            &quot;basic_word&quot;: [</span><br><span class="line">                                &quot;北京&quot;</span><br><span class="line">                            ],</span><br><span class="line">                            &quot;type&quot;: &quot;6&quot;,</span><br><span class="line">                            &quot;term&quot;: &quot;北京&quot;,</span><br><span class="line">                            &quot;weight&quot;: 0.3822362422943115</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            &quot;basic_word&quot;: [</span><br><span class="line">                                &quot;人民&quot;,</span><br><span class="line">                                &quot;大学&quot;</span><br><span class="line">                            ],</span><br><span class="line">                            &quot;type&quot;: &quot;7&quot;,</span><br><span class="line">                            &quot;term&quot;: &quot;人民大学&quot;,</span><br><span class="line">                            &quot;weight&quot;: 0.4266456961631775</span><br><span class="line">                        &#125;</span><br><span class="line">                    ],</span><br><span class="line">                    &quot;sentiment_analysis&quot;: &#123;</span><br><span class="line">                        &quot;label&quot;: 2,</span><br><span class="line">                        &quot;pval&quot;: 0.196025</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>返回的数据量非常大，关于这部分您可以查看<a href="https://ai.baidu.com/docs#/UNIT-API/d7081594" target="_blank" rel="noopener">百度官方技术文档</a>，在这里不做赘述。</p>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h3 id="UNIT测试"><a href="#UNIT测试" class="headerlink" title="UNIT测试"></a>UNIT测试</h3><p>本例定义了一个简单的“开灯”对话单元，有一个“位置”词槽，使用3个样本数据训练了一个迷你机器人。</p>
<p>在百度UNIT页面可与训练好的BOT进行交互：</p>
<img src="/2018/04/15/baidu-asr/20180415-154644.png" title="打开灯">

<img src="/2018/04/15/baidu-asr/20180415-154702.png" title="打开客厅灯">

<p>当然，实战需要更加海量的数据。</p>
<h3 id="语言实践"><a href="#语言实践" class="headerlink" title="语言实践"></a>语言实践</h3><p>本例使用Go语言编写了一个百度AI客户端包，目前可以做到：</p>
<ul>
<li>获取并管理Token；</li>
<li>语音识别；</li>
<li>访问UNIT机器人。</li>
</ul>
<p>测试代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line">	<span class="string">"github.com/hinanawitenshi/baiduai"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c := baiduai.NewClient(</span><br><span class="line">		<span class="string">"myapikey"</span>,</span><br><span class="line">		<span class="string">"mysecretkey"</span>,</span><br><span class="line">	)</span><br><span class="line">	c.NewSession()</span><br><span class="line">	fmt.Println(c.Voice2Text(<span class="string">"audio.wav"</span>, <span class="string">"wav"</span>, <span class="string">"16000"</span>, <span class="number">1536</span>))</span><br><span class="line">	fmt.Println(c.Unit(<span class="number">20079</span>, <span class="string">"打开客厅灯"</span>, <span class="number">1</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;&#123;0 success. 842193954671523782416 6544595644287405787 [明天天气怎么样]&#125;</span><br><span class="line">&amp;&#123;152378241880814 0  &#123;1 [&#123;turn_light_on_satisfy &#123;   &#125; [] &#123;&#125; 1 []  OK []&#125;] &#123;TURN_LIGHT_ON 99.99630737304688 [&#123;0 0 0 客厅  user_location 0 update&#125;]&#125; &#123;[] [] &#123;0 0&#125;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars1.githubusercontent.com/u/19709067" alt="r0beRT">
            
              <p class="site-author-name" itemprop="name">r0beRT</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/r0bertr" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:dr.paper@live.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2024</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">r0beRT</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    
  


  
  

  

  

  

  

  

</body>
</html>
