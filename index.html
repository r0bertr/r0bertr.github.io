<!DOCTYPE html>













<html class="theme-next gemini" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="RASIS">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="RASIS">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RASIS">






  <link rel="canonical" href="http://yoursite.com/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>RASIS</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117165027-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117165027-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RASIS</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-8-puzzle">
    <a href="/eight-puzzle/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-puzzle-piece"></i> <br>8-Puzzle</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-xiangqi">
    <a href="/xiangqi/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-gamepad"></i> <br>XiangQi</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/07/notes-on-mathematical-analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/07/notes-on-mathematical-analysis/" itemprop="url">
                  数学分析要点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-07-07 10:00:20" itemprop="dateCreated datePublished" datetime="2019-07-07T10:00:20+09:00">2019-07-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="有尽小数在实数系中处处稠密"><a href="#有尽小数在实数系中处处稠密" class="headerlink" title="有尽小数在实数系中处处稠密"></a>有尽小数在实数系中处处稠密</h1><p><strong>定理</strong> 设$a$和$b$是实数, $a&lt;b$. 则存在有尽小数$c$, 满足</p>
<p>$$<br>a &lt; c &lt; b<br>$$</p>
<h1 id="确界原理"><a href="#确界原理" class="headerlink" title="确界原理"></a>确界原理</h1><p>$\mathbb{R}$的任何非空而有上界的子集合$D$在$\mathbb{R}$中有上确界.</p>
<h1 id="常用不等式"><a href="#常用不等式" class="headerlink" title="常用不等式"></a>常用不等式</h1><p><strong>绝对值不等式</strong><br>$$<br>|a+b| \le |a| + |b| \\<br>||a|-|b|| \le |a - b| \\<br>$$</p>
<p><strong>Bernoulli不等式</strong></p>
<p>$$<br>(1+x)^n \ge 1+nx<br>$$</p>
<p><strong>均值不等式</strong></p>
<p>$$<br>\frac{x_1+x_2}{2} \ge \sqrt{x_1x_2}<br>$$</p>
<p><strong>AM-GM不等式</strong></p>
<p><strong>定理</strong> 设$x_1,x_2,\cdots,x_n \ge 0$, 则以下的算术平均数与几何平均数不等式成立:</p>
<p>$$<br>\frac{x_1+x_2+\cdots+x_n}{n} \ge \sqrt[n]{x_1x_2 \cdots x_n}<br>$$</p>
<p><strong>三角函数不等式</strong></p>
<p><strong>定理</strong> 对于用弧度表示的角$x$, 有以下不等式成立</p>
<p>$$<br>\forall x \in (0, \frac{\pi}{2}) \qquad \sin x &lt; x &lt; \tan x<br>$$</p>
<h1 id="有界序列-无穷小序列-收敛序列性质一览"><a href="#有界序列-无穷小序列-收敛序列性质一览" class="headerlink" title="有界序列, 无穷小序列, 收敛序列性质一览"></a>有界序列, 无穷小序列, 收敛序列性质一览</h1><ol>
<li>两个有界序列的和是有界序列, 两个有界序列的积是有界序列.</li>
<li>两个无穷小序列的和是无穷小序列, 两个无穷小序列的积也是无穷小序列.</li>
<li>无穷小序列和有界序列的积是有界序列.</li>
<li>$\{a_n\}$是无穷小序列当且仅当$\{|a_n|\}$是无穷小序列.</li>
<li>实数与无穷小序列的积是无穷小序列.</li>
<li>有限个无穷小序列的和和积都是无穷小序列.</li>
<li>收敛序列是有界序列.</li>
<li>$\lim |x_n| = |\lim x_n|$.</li>
<li>$\lim (x_n \pm y_n) = \lim x_n \pm \lim y_n$.</li>
<li>$\lim (x_ny_n) = \lim x_n \cdot \lim y_n$.</li>
<li>若$x_n \ne 0$且$\lim x_n \ne 0$, $\lim \frac{1}{x_n} = \frac{1}{\lim x_n}$.</li>
<li>$\lim(cx_n) = c\lim x_n$.</li>
<li>若$x_n \ne 0$且$\lim x_n \ne 0$, $\lim \frac{y_n}{x_n} = \frac{\lim y_n}{\lim x_n}$.</li>
</ol>
<h1 id="序列收敛原理"><a href="#序列收敛原理" class="headerlink" title="序列收敛原理"></a>序列收敛原理</h1><ol>
<li>单调有界序列收敛.</li>
<li>有界序列具有收敛的子序列.</li>
<li>基本序列收敛.</li>
</ol>
<h1 id="函数极限定义"><a href="#函数极限定义" class="headerlink" title="函数极限定义"></a>函数极限定义</h1><p><strong>定义I(序列式定义)</strong></p>
<p>设$a, A \in \bar{\mathbb{R}}$, 并设函数$f(x)$在$a$点的某个去心邻域$U^*(a)$上有定义. 如果对于任何满足条件$x_n \rightarrow a$的序列$\{x_n\} \subset U^*(a)$, 相应的函数值序列$\{f(x_n)\}$都以$A$为极限，那么我们就说当$x \rightarrow a$时, 函数$f(x)$的极限为$A$, 记为</p>
<p>$$<br>\lim_{x \rightarrow a}f(x) = A<br>$$</p>
<p><strong>定义II($\epsilon\text{-}\delta$式定义)</strong></p>
<p>设$a, A \in \mathbb{R}$, 并设函数$f(x)$在$a$点的某个去心邻域$U^*(a,\eta)$上有定义. 如果对任意的$\epsilon &gt; 0$, 存在$\delta &gt; 0$, 使得只要$0 &lt; |x - a| &lt; \delta$, 就有</p>
<p>$$<br>|f(x) - A| &lt; \epsilon<br>$$</p>
<p>那么我们就说: $x \rightarrow a$时函数$f(x)$的极限是$A$, 记为</p>
<p>$$<br>\lim_{x \rightarrow a}f(x) = A<br>$$</p>
<p>*定义II仅定义了自变量和因变量都是实数的情况, 除此之外还有$a = \pm\infty$, $A = \pm\infty$与实数进行组合的多种情况, 在此不一一列举.</p>
<h1 id="连续函数重要性质"><a href="#连续函数重要性质" class="headerlink" title="连续函数重要性质"></a>连续函数重要性质</h1><p><strong>定理1</strong> 连续点附近有界.</p>
<p><strong>定理2</strong> 两个函数$f(x)$, $g(x)$在$x_0$点连续, 有</p>
<ol>
<li>$f(x) \pm g(x)$在$x_0$处连续.</li>
<li>$f(x)g(x)$在$x_0$处连续.</li>
<li>$\frac{f(x)}{g(x)}$在使得$g(x_0) \ne 0$的$x_0$处连续.</li>
<li>$|f(x)|$在$x_0$处连续.</li>
<li>若$f(x_0) &lt; g(x_0)$, 则存在$\delta &gt; 0$使得对于$x \in U(x_0, \delta)$有$f(x) &lt; g(x)$.</li>
</ol>
<p><strong>定理3(复合函数连续性)</strong> 设函数$f(x)$在$x_0$处连续, 函数$g(x)$在$y_0=f(x_0)$处连续, 则复合函数$g \circ f(x) = g(f(x))$在$x_0$处连续.</p>
<p><strong>定理4(介值定理)</strong> </p>
<p>设函数$f$在闭区间$[a,b]$连续. 对于任意$\gamma$满足$f(a) &lt; \gamma &lt; f(b)$或$f(a) &gt; \gamma &gt; f(b)$, 存在$c \in (a,b)$使得</p>
<p>$$<br>f(c) = \gamma<br>$$</p>
<p><strong>定理5</strong> 在闭区间$[a,b]$连续的函数$f$在$[a,b]$上有界.</p>
<p><strong>定理6(最大值与最小值定理)</strong> 设函数$f$在闭区间$[a,b]$上连续, $M,m$分别是该函数的上确界和下确界, 则存在$x’, x’’ \in [a,b]$使得</p>
<p>$$<br>f(x’) = M, \quad f(x’’) = m<br>$$</p>
<p><strong>定理7(一致连续性定理)</strong> 在闭区间$[a,b]$上连续的函数$f$在$[a,b]$上一致连续.</p>
<h1 id="无穷量"><a href="#无穷量" class="headerlink" title="无穷量"></a>无穷量</h1><p>设函数$\phi(x)$和$\psi(x)$在$a$点的某个取心邻域$U^*(a)$上有定义, 并设在$U^*(a)$上$\phi(x) \ne 0$. 我们分别用记号$O$, $o$与$\sim$表示比值$\frac{\psi(x)}{\phi(x)}$在$a$点邻近的几种情况:</p>
<ol>
<li>$\psi(x)=O(\phi(x))$表示$\frac{\psi(x)}{\phi(x)}$是$x\rightarrow a$时的有界变量.</li>
<li>$\psi(x)=o(\phi(x))$表示$\frac{\psi(x)}{\phi(x)}$是$x\rightarrow a$时的无穷小量.</li>
<li>$\psi(x)\sim \phi(x)$表示$\lim_{x\rightarrow a}\frac{\psi(x)}{\phi(x)} = 1$.</li>
</ol>
<h1 id="重要极限小记"><a href="#重要极限小记" class="headerlink" title="重要极限小记"></a>重要极限小记</h1><p>$$<br>\begin{eqnarray}<br>\lim_{x\rightarrow 0}&amp;\frac{\sin x}{x} &amp;= 1 \\<br>\lim_{x\rightarrow \infty}&amp;(1+\frac{1}{x})^x &amp;= e \\<br>\lim_{\alpha \rightarrow 0}&amp;\frac{\ln(1+\alpha)}{\alpha} &amp;= 1 \\<br>\lim_{\alpha \rightarrow 0}&amp;\frac{\log_b(1+\alpha)}{\alpha} &amp;= \frac{1}{\ln b} \\<br>\lim_{\alpha \rightarrow 0}&amp;\frac{e^\alpha-1}{\alpha} &amp;= 1 \\<br>\lim_{\alpha \rightarrow 0}&amp;\frac{(1+\alpha)^\mu - 1}{\alpha} &amp;= \mu \\<br>\end{eqnarray}<br>$$</p>
<h1 id="基础微分"><a href="#基础微分" class="headerlink" title="基础微分"></a>基础微分</h1><p><strong>导数</strong> 设函数$f(x)$在$x_0$点邻近有定义. 如果存在有穷极限</p>
<p>$$<br>\lim_{\Delta x \rightarrow 0}\frac{f(x_0+\Delta x)-f(x_0)}{\Delta x}<br>$$</p>
<p>那么我们就说函数$f(x)$在$x_0$点可导, 并把上述极限值称为$f(x)$在$x_0$点的导数, 记为$f’(x_0)$(Lagrange)或$\frac{df(x_0)}{dx}$(Leibnitz).</p>
<p><strong>微分</strong> 设函数$f(x)$在$x$点邻近有定义, 如果</p>
<p>$$<br>f(x+h)-f(x)=Ah + o(h)<br>$$</p>
<p>其中$A$与$h$无关, 那么我们就说函数$f$在$x$点可微. </p>
<p>设函数$y=f(x)$在$x_0$处可微, 引入记号</p>
<p>$$<br>\begin{align}<br>dx &amp;:= \Delta x \nonumber \\<br>dy &amp;:= f’(x_0)dx = f’(x_0)\Delta x \nonumber<br>\end{align}<br>$$</p>
<p>$dy$叫做函数$y=f(x)$在$x_0$点的微分.</p>
<h1 id="初等函数导数表"><a href="#初等函数导数表" class="headerlink" title="初等函数导数表"></a>初等函数导数表</h1><table>
<thead>
<tr>
<th align="center">函数</th>
<th align="center">导数</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$C$</td>
<td align="center">$0$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$x^m$</td>
<td align="center">$mx^{m-1}$</td>
<td align="center">$m \in \mathbb{N}_+$</td>
</tr>
<tr>
<td align="center">$x^{-m}$</td>
<td align="center">$-mx^{-m-1}$</td>
<td align="center">$m \in \mathbb{N}_+, \quad m \ne 0$</td>
</tr>
<tr>
<td align="center">$x^\mu$</td>
<td align="center">$\mu x^{\mu-1}$</td>
<td align="center">$\mu \in \mathbb{R}, \quad x &gt; 0$</td>
</tr>
<tr>
<td align="center">$\sin x$</td>
<td align="center">$\cos x$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$\cos x$</td>
<td align="center">$-\sin x$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$\tan x$</td>
<td align="center">$\frac{1}{\cos^2 x}$</td>
<td align="center">$x \ne k\pi + \frac{\pi}{2}$</td>
</tr>
<tr>
<td align="center">$\cot x$</td>
<td align="center">$-\frac{1}{\sin^2 x}$</td>
<td align="center">$x \ne k\pi$</td>
</tr>
<tr>
<td align="center">$\arcsin x$</td>
<td align="center">$\frac{1}{\sqrt{1-x^2}}$</td>
<td align="center">$|x| &lt; 1$</td>
</tr>
<tr>
<td align="center">$\arccos x$</td>
<td align="center">$-\frac{1}{\sqrt{1-x^2}}$</td>
<td align="center">$|x| &lt; 1$</td>
</tr>
<tr>
<td align="center">$\arctan x$</td>
<td align="center">$\frac{1}{1+x^2}$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$\text{arccot }x$</td>
<td align="center">$-\frac{1}{1+x^2}$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$e^x$</td>
<td align="center">$e^x$</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$a^x$</td>
<td align="center">$a^x\ln a$</td>
<td align="center">$a&gt;0$</td>
</tr>
<tr>
<td align="center">$\ln x$</td>
<td align="center">$\frac{1}{x}$</td>
<td align="center">$x&gt;0$</td>
</tr>
<tr>
<td align="center">$\log_a x$</td>
<td align="center">$\frac{1}{x} \log_a e$</td>
<td align="center">$a&gt;0, \quad x&gt;0$</td>
</tr>
</tbody></table>
<h1 id="不定积分"><a href="#不定积分" class="headerlink" title="不定积分"></a>不定积分</h1><p>设函数$f$在区间$I$上有定义, 函数$F$是$f$的一个原函数, 则函数簇</p>
<p>$$<br>F(x) + C (C \in \mathbb{R})<br>$$</p>
<p>表示$f$的一切原函数. 我们把这函数簇叫做函数$f(x)$的不定积分, 或者叫做微分形式$f(x)dx$的不定积分, 记为</p>
<p>$$<br>\int f(x)dx = F(x) + C<br>$$</p>
<h1 id="不定积分表"><a href="#不定积分表" class="headerlink" title="不定积分表"></a>不定积分表</h1><table>
<thead>
<tr>
<th align="center">不定积分表</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\int 0 dx = C$</td>
</tr>
<tr>
<td align="center">$\int 1 dx = x + C$</td>
</tr>
<tr>
<td align="center">$\int x^\mu dx = \frac{1}{\mu + 1} x^{\mu+1} + C (\mu \ne -1)$</td>
</tr>
<tr>
<td align="center">$\int x^{-1} dx = \int \frac{dx}{x} = \ln{|x|} + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{x-a} = \ln{|x-a|} + C$</td>
</tr>
<tr>
<td align="center">$\int e^x dx = e^x + C$</td>
</tr>
<tr>
<td align="center">$\int a^x dx = \frac{a^x}{\ln{a}}+C(a &gt; 0, a \ne 1)$</td>
</tr>
<tr>
<td align="center">$\int \cos x dx = \sin x + C$</td>
</tr>
<tr>
<td align="center">$\int \sin x dx = -\cos x + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{\cos^2 x} = \tan x + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{\sin^2 x} = - \cot x + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{1+x^2} = \arctan x + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{\sqrt{1-x^2}} = \arcsin x + C$</td>
</tr>
<tr>
<td align="center">$\int \frac{dx}{\sqrt{x^2 \pm a^2}} = \ln{|x+\sqrt{x^2 \pm a^2} |} + C$</td>
</tr>
</tbody></table>
<h1 id="定积分"><a href="#定积分" class="headerlink" title="定积分"></a>定积分</h1><p>设函数$f$在区间$[a,b]$有定义. 如果存在实数$I$, 使得对于任意无穷细分割序列${P^{(n)}}$, 不论相应于每个分割$P^{(n)}$的标志点组$\xi^{(n)}$怎样选择, 都有</p>
<p>$$<br>\lim_{n \rightarrow +\infty} \sigma(f, P^{(n)}, \xi^{(n)})=I<br>$$</p>
<p>那么我们就说函数$f$在$[a,b]$上可积,并把$I$称为函数$f$在$[a,b]$上的定积分,记为</p>
<p>$$<br>\int_a^bf(x)dx = \lim_{|P| \rightarrow 0}\sigma(f,P,\xi)=I<br>$$</p>
<h2 id="牛顿-莱布尼茨公式"><a href="#牛顿-莱布尼茨公式" class="headerlink" title="牛顿-莱布尼茨公式"></a>牛顿-莱布尼茨公式</h2><p>设函数$f$在闭区间$[a,b]$连续. 如果存在函数$F$在$[a,b]$连续, 在$(a,b)$可导, 并且满足</p>
<p>$$<br>F’(x) = f(x), \forall x \in (a,b)<br>$$</p>
<p>那么函数$f$在$[a,b]$上可积,并且</p>
<p>$$<br>\int_a^bf(x)dx=F(b)-F(a)<br>$$</p>
<h2 id="二重积分的计算"><a href="#二重积分的计算" class="headerlink" title="二重积分的计算"></a>二重积分的计算</h2><p>设函数$z = f(x,y)$在闭区间$D$上连续, 其中$D$由直线$x=a, x=b (a &lt; b)$及曲线$y=\varphi_1(x), y=\varphi_2(x) (\varphi_1(x) \le \varphi_2(x), a \le x \le b)$围成. 这时$f(x,y)$的二重积分可表示成如下的累次积分</p>
<p>$$<br>\iint f(x,y)d\sigma = \int_a^b [\int_{\varphi_1(x)}^{\varphi_2(x)} f(x,y)dy]dx<br>$$</p>
<h1 id="基础微分方程"><a href="#基础微分方程" class="headerlink" title="基础微分方程"></a>基础微分方程</h1><p>本记将基础微分方程分为5种类型，分别是可分离变量型、齐次型、一阶线性型、二阶可降阶型和二阶线性常系数微分方程。</p>
<h2 id="可分离变量型"><a href="#可分离变量型" class="headerlink" title="可分离变量型"></a>可分离变量型</h2><p>形如</p>
<p>$$<br>\frac{dy}{dx} = g(x)h(y)<br>$$</p>
<p>的方程, 可将其变换为</p>
<p>$$<br>\frac{dy}{h(y)} = g(x)dx<br>$$</p>
<p>并在两边同时积分.</p>
<h2 id="齐次型"><a href="#齐次型" class="headerlink" title="齐次型"></a>齐次型</h2><p>形如</p>
<p>$$<br>\frac{dy}{dx} = f(\frac{y}{x})<br>$$</p>
<p>的方程, 可令$u = \frac{y}{x}$代入得到</p>
<p>$$<br>\frac{xdu}{dx} + u = f(u)<br>$$</p>
<p>并可进行变量分离得到</p>
<p>$$<br>\frac{du}{f(u)-u} = \frac{dx}{x}<br>$$</p>
<h2 id="一阶线性型"><a href="#一阶线性型" class="headerlink" title="一阶线性型"></a>一阶线性型</h2><p>形如</p>
<p>$$<br>y’ + p(x)y = q(x)<br>$$</p>
<p>的方程, 两边同时乘以$e^{\int p(x)dx}$可得</p>
<p>$$<br>\begin{align*}
&amp;e^{\int p(x)dx}y’ + e^{\int p(x)dx}p(x)y  = e^{\int p(x)dx}q(x) \\<br>\Rightarrow&amp; [e^{\int p(x)dx}y]&#39; = e^{\int p(x)dx}q(x) \\<br>\Rightarrow&amp; y = e^{-\int p(x)dx}[\int e^{\int p(x)dx}q(x)dx + C_1]<br>\end{align*}
$$</p>
<h2 id="二阶可降阶型"><a href="#二阶可降阶型" class="headerlink" title="二阶可降阶型"></a>二阶可降阶型</h2><p>形如</p>
<p>$$<br>y’’ = f(x, y’)<br>$$</p>
<p>或</p>
<p>$$<br>y’’ = f(y’, y)<br>$$</p>
<p>的方程, 可令$y’ = p$, 则$y’’ = \frac{dp}{dx} = \frac{dp}{dy}p$, 并化为一阶方程.</p>
<h2 id="二阶线性常系数微分方程"><a href="#二阶线性常系数微分方程" class="headerlink" title="二阶线性常系数微分方程"></a>二阶线性常系数微分方程</h2><p>形如</p>
<p>$$<br>y’’ + py’ + qy = f(x)<br>$$</p>
<p>的方程, 考察其特征方程</p>
<p>$$<br>\lambda^2 + p\lambda + q = 0<br>$$</p>
<p>其齐次型($f(x)=0$)的通解如下表所示</p>
<table>
<thead>
<tr>
<th align="center">特征根</th>
<th align="center">通解</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\lambda_1, \lambda_2 \in \mathbb{R}, \lambda_1 \ne \lambda_2$</td>
<td align="center">$y = C_1e^{\lambda_1x}+C_2e^{\lambda_2x}$</td>
</tr>
<tr>
<td align="center">$\lambda_1, \lambda_2 \in \mathbb{R}, \lambda_1 = \lambda_2$</td>
<td align="center">$y=(C_1+C_2x)e^{\lambda_1x}$</td>
</tr>
<tr>
<td align="center">$\lambda_{1,2}=\alpha \pm i\beta$</td>
<td align="center">$y=e^{ax}(C_1\cos \beta x + C_2 \sin \beta x)$</td>
</tr>
</tbody></table>
<p>其非齐次型的特解如下表所示</p>
<table>
<thead>
<tr>
<th align="center">$f(x)$形式</th>
<th align="center">条件</th>
<th align="center">特解</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center">$\alpha \ne \lambda_1, \alpha \ne \lambda_2$</td>
<td align="center">$y^* = e^{\alpha x}Q_n(x)$</td>
</tr>
<tr>
<td align="center">$P_n(x)e^{\alpha x}$</td>
<td align="center">$\alpha = \lambda_1$ 或 $\alpha = \lambda_2$</td>
<td align="center">$y^* = xe^{\alpha x}Q_n(x)$</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">$\alpha = \lambda_1 = \lambda_2$</td>
<td align="center">$y^* = x^2e^{\alpha x}Q_n(x)$</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$e^{\alpha x}[P_n(x)\cos \beta x + P_m(x)\sin \beta x](\beta \ne 0)$</td>
<td align="center">$\lambda \ne \alpha \pm i\beta$</td>
<td align="center">$y^* = e^{\alpha x}[Q_l(x)\cos \beta x + R_l(x)\sin \beta x]$</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">$\lambda = \alpha \pm i\beta$</td>
<td align="center">$y^* = xe^{\alpha x}[Q_l(x)\cos \beta x + R_l(x)\sin \beta x]$</td>
</tr>
</tbody></table>
<p>其中, $P_n(x)$为关于$x$的$n$次多项式, $l = \max\{n, m\}$.</p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>张筑生. 数学分析新讲. 北京大学出版社.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/03/important-points-of-compilers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/03/important-points-of-compilers/" itemprop="url">
                  Important Points of Compilers
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-07-03 13:54:13" itemprop="dateCreated datePublished" datetime="2019-07-03T13:54:13+09:00">2019-07-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>The principles and techniques for compiler design are applicable to so many other domains that they are likely to be reused many times in the career of a computer scientist. The study of compiler writing touches upon programming languages, machine architecture, language theory, algorithms, and software engineering.</p>
</blockquote>
<h1 id="The-General-Structure-of-a-Compiler"><a href="#The-General-Structure-of-a-Compiler" class="headerlink" title="The General Structure of a Compiler"></a>The General Structure of a Compiler</h1><img src="/2019/07/03/important-points-of-compilers/phases-of-a-compiler.png">

<h1 id="Context-Free-Grammars"><a href="#Context-Free-Grammars" class="headerlink" title="Context-Free Grammars"></a>Context-Free Grammars</h1><p>A context-free grammar $G$ is defined by the 4-tuple</p>
<p>$$<br>G = (V, \Sigma, R, S)<br>$$</p>
<p>where</p>
<ol>
<li>$V$ is a set of <em>nonterminals</em>, sometimes called &quot;syntactic variables.&quot; Each nonterminal represents a set of strings of terminals, in a manner we shall describe.</li>
<li>$\Sigma$ is a set of <em>terminal</em> symbols, sometimes referred to as &quot;tokens.&quot; The terminals are the elementary symbols of the language defined by the grammar.</li>
<li>$R$ is a set of <em>productions</em>, where each production consists of a nonterminal, called the head or left side of the production, an arrow, and a sequence of terminals and/or nonterminals, called the body or right side of the production. In fact, $R$ is a finite relation from $V$ to $(V \cup \Sigma)^*$.</li>
<li>$S$ is designation of one of the nonterminals as the start symbol.</li>
</ol>
<p>All the terminal strings that can be derived from the start symbol form the <strong>language</strong> defined by the grammar.</p>
<h1 id="Important-Concepts-in-Lexical-Analysis"><a href="#Important-Concepts-in-Lexical-Analysis" class="headerlink" title="Important Concepts in Lexical Analysis"></a>Important Concepts in Lexical Analysis</h1><blockquote>
<p>A <em>token</em> is a pair consisting of a token name and an optional attribute value. The token name is an abstract symbol representing a kind of lexical unit, e.g., a particular keyword, or a sequence of input characters denoting an identifier. The token names are the input symbols that the parser processes. In what follows, we shall generally write the name of a token in boldface. We will often refer to a token by its token name.</p>
</blockquote>
<blockquote>
<p>A <em>pattern</em> is a description of the form that the lexemes of a token may take. In the case of a keyword as a token, the pattern is just the sequence of characters that form the keyword. For identifiers and some other tokens, the pattern is a more complex structure that is matched by many strings.</p>
</blockquote>
<blockquote>
<p>A <em>lexeme</em> is a sequence of characters in the source program that matches the pattern for a token and is identified by the lexical analyzer as an instance of that token.</p>
</blockquote>
<blockquote>
<p>An <em>alphabet</em> is any finite set of symbols.</p>
</blockquote>
<blockquote>
<p>A <em>string</em> over an alphabet is a finite sequence of symbols drawn from that alphabet.</p>
</blockquote>
<blockquote>
<p>A <em>language</em> is any countable set of strings over some fixed alphabet.</p>
</blockquote>
<blockquote>
<p>A <em>regular set</em> is a language that can be defined by a regular expression.</p>
</blockquote>
<h1 id="Regular-Expressions"><a href="#Regular-Expressions" class="headerlink" title="Regular Expressions"></a>Regular Expressions</h1><p>Regular expressions are defined by the following rules:</p>
<ol>
<li>$\epsilon$ is a regular expression, and $L(\epsilon)=\{\epsilon\}$.</li>
<li>If $a \in \Sigma$, then $a$ is a regular expression, and $L(a) = \{a\}$.</li>
</ol>
<p>Suppose $r$ and $s$ are regular expressions.</p>
<ol start="3">
<li>$r|s$ is a regular expression and $L(r|s)=L(r) \cup L(s)$.</li>
<li>$rs$ is a regular expression and $L(rs)=L(r)L(s)$.</li>
<li>$r^*$ is a regular expression and $L(r^*)=L(r)^*$.</li>
<li>$(r)$ is a regular expression and $L((r))=L(r)$.</li>
</ol>
<p>There are also plenty of extensions of regular expressions.</p>
<ol start="7">
<li>$r^+$ is a regular expression and $L(r^+)=L(r)^+$.</li>
<li>$r?$ is a regular expression and $L(r?)=L(r) \cup \{\epsilon\}$.</li>
<li>$[a_1a_2\cdots a_n]$ is a regular expression with $a_1,a_2,\cdots,a_n$ are all regular expressions and it is a shorthand of $a_1|a_2|\cdots|a_n$.</li>
</ol>
<p>Regular expressions have following properties:</p>
<ol>
<li>$r|s=s|r$.</li>
<li>$r|(s|t)=(r|s)|t$.</li>
<li>$r(st)$=$(rs)t$.</li>
<li>$r(s|t)=rs|rt$; $(s|t)r=sr|tr$.</li>
<li>$\epsilon r=r\epsilon=r$.</li>
<li>$r^*=(r|\epsilon)^*$.</li>
<li>$r^{**}=r^*$.</li>
</ol>
<h1 id="Finite-Automata"><a href="#Finite-Automata" class="headerlink" title="Finite Automata"></a>Finite Automata</h1><blockquote>
<p>Finite automata are recognizers: they simply say &quot;yes&quot; or &quot;no&quot; about each possible input string.</p>
</blockquote>
<h2 id="Nondeterministic-Finite-Automata"><a href="#Nondeterministic-Finite-Automata" class="headerlink" title="Nondeterministic Finite Automata"></a>Nondeterministic Finite Automata</h2><p>A <strong>nondeterministic finite automaton(NFA)</strong> is defined by a 5-tuple, $(S, \Sigma, T, s_0, F)$, consisting of</p>
<ol>
<li>A finite set of states $S$.</li>
<li>A set of input symbols $\Sigma$, the input alphabet. We assume that $\epsilon$ is never a member of $\Sigma$.</li>
<li>A transition function $T$ that gives, for each state, and for each symbol in $\Sigma \cup \{\epsilon\}$ a set of next states.</li>
<li>A state $s_0$ from $S$ that is distinguished as the start state or the initial state.</li>
<li>A set of states $F$, a subset of $S$, that is distinguished as the accepting states or the final states.</li>
</ol>
<h2 id="Deterministic-Finite-Automata"><a href="#Deterministic-Finite-Automata" class="headerlink" title="Deterministic Finite Automata"></a>Deterministic Finite Automata</h2><p>A <strong>deterministic finite automaton(DFA)</strong> is a special case of an NFA where:</p>
<ol>
<li>There are no moves on input $\epsilon$.</li>
<li>For each state $s$ and input symbol $a$, there is exactly one edge out of $s$ labeled $a$.</li>
</ol>
<h2 id="Algorithm-From-NFA-to-DFA"><a href="#Algorithm-From-NFA-to-DFA" class="headerlink" title="Algorithm: From NFA to DFA"></a>Algorithm: From NFA to DFA</h2><p><strong>INPUT</strong> An NFA $N$.</p>
<p><strong>OUTPUT</strong> A DFA $D$ accepting the same language as $N$.</p>
<p><strong>STEPS</strong></p>
<ol>
<li>Compute $\epsilon\text{-}closure(s_0)$ as the initial unmarked state $s_0’$ of $D$.</li>
<li>Do the following until all the states in $D$ is marked:<ol>
<li>Pick up an unmarked state $s’$ in $D$, mark $s’$.</li>
<li>For all symbols $a$ in $\Sigma$, do the following:<ol>
<li>Compute $\epsilon\text{-}closure(move(S_{s’}, a))$ as a state $s_i’$ in $D$, where $S_{s’}$ is the set of states in $N$ corresponding to the the state $s’$ in $D$.</li>
<li>If $s_i’$ is not a existed state of $D$, add it as an unmarked new state.</li>
<li>Create an edge $a$ between $s’$ and $s_i’$.</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>EXPLANATION</strong></p>
<ol>
<li>$\epsilon\text{-}closure(s)=\{s | s\text{ can be reached from }s_0\text{ through an edge labeled }\epsilon\}$.</li>
<li>$move(S,a)=\{s|s\text{ can be reached from states in }S\text{ through an edge labeled }a\}$.</li>
</ol>
<h2 id="Algorithm-Simulating-an-NFA"><a href="#Algorithm-Simulating-an-NFA" class="headerlink" title="Algorithm: Simulating an NFA"></a>Algorithm: Simulating an NFA</h2><p><strong>INPUT</strong> An input string $x$ terminated by an end-of-file character <code>eof</code>. An NFA $N$.</p>
<p><strong>OUTPUT</strong> Answer &quot;true&quot; if $N$ accepts $x$; &quot;false&quot; otherwise.</p>
<p><strong>STEPS</strong></p>
<ol>
<li>Compute $S=\epsilon\text{-}closure(s_0)$, where $s_0$ is the start state of $N$.</li>
<li>Do the following until an <code>eof</code> is read:<ol>
<li>Read a character $c$.</li>
<li>Let $S=\epsilon\text{-}closure(move(S,c))$.</li>
</ol>
</li>
<li>If $S \cap F \ne \emptyset$, answer &quot;true&quot; and otherwise, answer &quot;false&quot;.</li>
</ol>
<h2 id="Algorithm-Constructing-an-NFA-from-a-Regular-Expression"><a href="#Algorithm-Constructing-an-NFA-from-a-Regular-Expression" class="headerlink" title="Algorithm: Constructing an NFA from a Regular Expression"></a>Algorithm: Constructing an NFA from a Regular Expression</h2><p><strong>INPUT</strong> A regular expression $r$ over alphabet $\Sigma$.</p>
<p><strong>OUTPUT</strong> An NFA $N$ accepting $L(r)$.</p>
<p><strong>METHOD</strong></p>
<p>Apply the following rules.</p>
<ol>
<li>The NFA accepting $L(\epsilon)$ is</li>
</ol>
<img src="/2019/07/03/important-points-of-compilers/NFA-epsilon.png">

<ol start="2">
<li>The NFA accepting $L(a)$, where $L(a)=\{a\}$, is</li>
</ol>
<img src="/2019/07/03/important-points-of-compilers/NFA-a.png">

<ol start="3">
<li>The NFA accepting $L(s|t)$, where both $s$ and $t$ are regular expressions, is</li>
</ol>
<img src="/2019/07/03/important-points-of-compilers/NFA-union.png">

<ol start="4">
<li>The NFA accepting $L(st)$, where both $s$ and $t$ are regular expressions, is</li>
</ol>
<img src="/2019/07/03/important-points-of-compilers/NFA-concat.png">

<ol start="5">
<li>The NFA accepting $L(s^*)$, where $s$ is a regular expression, is</li>
</ol>
<img src="/2019/07/03/important-points-of-compilers/NFA-asterisk.png">

<h2 id="Algorithm-Constructing-a-DFA-from-a-Regular-Expression"><a href="#Algorithm-Constructing-a-DFA-from-a-Regular-Expression" class="headerlink" title="Algorithm: Constructing a DFA from a Regular Expression"></a>Algorithm: Constructing a DFA from a Regular Expression</h2><p><strong>INPUT</strong> A regular expression $r$ over alphabet $\Sigma$.</p>
<p><strong>OUTPUT</strong> A DFA $D$ accepting $L(r)$.</p>
<p><strong>STEPS</strong></p>
<ol>
<li>Construct a syntax tree $T$ from the augmented regular expression $(r)\#$, and give each leaf a number, called a position. Note that all the leaves of $T$ is a single symbol.</li>
<li>Compute $firstpos(n_0)$ as the unmarked start state $s_0$ of $D$, where $n_0$ is the root of $T$.</li>
<li>Do the following until all the states in $D$ is marked:<ol>
<li>Pick up an unmarked state $s$ in $D$, mark $s$.</li>
<li>For all symbols $a$ in $\Sigma$, do the following:<ol>
<li>Compute $followpos(p)$ for all $p$ in $s$ whose symbol in $T$ is $a$ as a state $s_i$.</li>
<li>If $s_i$ is not a existed state of $D$, add it as an unmarked new state.</li>
<li>Create an edge $a$ between $s$ and $s_i$.</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>EXPLANATION</strong></p>
<ol>
<li>$firstpos(n)=\{\text{some positions in the subtree rooted at node }n\}$<br> Suppose the language expressed by the subtree rooted at $n$ is $L(T_n)$, and all the possible first symbols of strings in $L(T_n)$ form a set $\sigma$. $firstpos(n)$ is the set of positions corresponding to the symbols in $\sigma$. <!-- The rules for computing $firstpos(n)$ are:
 1. If $n$ is a leaf labeled $\epsilon$, $firstpos(n)=\emptyset$.
 2. If $n$ is a leaf with position $i$ and it is not labeled $\epsilon$, $firstpos(n)=\\{i\\}$.
 3. If $n = n_1|n_2$, $firstpos(n)=firstpos(n_1) \cup firstpos(n_2)$.
 4. If $n = n_1n_2$, if $nullable(n_1)$, $firstpos(n)=firstpos(n_1) \cup firstpos(n_2)$, else $firstpos(n)=firstpos(n_1)$, where $nullable(n_1)$ means the subtree rooted at $n_1$ can generate an $\epsilon$.
 5. If $n = n_1^\*$, $firstpos(n) = firstpos(n_1)$. --></li>
<li>$followpos(p)=\{\text{positions corresponding to all the symbols that are possibly the next one of position }p\}$</li>
</ol>
<h2 id="Algorithm-Minimizing-the-Number-of-States-of-a-DFA"><a href="#Algorithm-Minimizing-the-Number-of-States-of-a-DFA" class="headerlink" title="Algorithm: Minimizing the Number of States of a DFA"></a>Algorithm: Minimizing the Number of States of a DFA</h2><p><strong>INPUT</strong> A DFA $D=(S, \Sigma, T, s_0, F)$.</p>
<p><strong>OUTPUT</strong> A DFA $D’$ accepting the same language as $D$ and having as few states as possible.</p>
<p><strong>STEPS</strong></p>
<ol>
<li>Let $\Pi = {F, S-F}$ be the initial partition.</li>
<li>Do the following until $\Pi$ remains the same:<br> For each group $G$ in $\Pi$, partition $G$ into subgroups such that two states $s$ and $t$ are in the same group if and only if for all input symbols $a$, state $s$ and $t$ have transitions on $a$ to states in the same group of $\Pi$.</li>
<li>Choose one state of each group in $\Pi$ as the representative for that group, which is also a state in $D’$. The start/accepting state of $D’$ is the representative of the group containing the start/accepting state of $D$.</li>
</ol>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p>Alfred V. A., et al. <em>Compilers Principles, Techniques, &amp; Tools Second Edition</em></p>
<p>Context-Free Grammar - Wikipedia. <a href="https://en.wikipedia.org/wiki/Context-free_grammar" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Context-free_grammar</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/02/leetcode-493/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/02/leetcode-493/" itemprop="url">
                  【LeetCode】493. Reverse Pairs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-07-02 17:50:52" itemprop="dateCreated datePublished" datetime="2019-07-02T17:50:52+09:00">2019-07-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>493 is a typical question using the divide-and-conquer method. In fact, we can add only a little process into the general merging procedure of the mergesort to accomplish this task.</p>
<h2 id="Solution-by-Mergesort"><a href="#Solution-by-Mergesort" class="headerlink" title="Solution by Mergesort"></a>Solution by Mergesort</h2><p>In the general mergesort process, we merge two sorted list into one by moving two indexes in each list. For example, consider two sorted list <code>L=[1, 3, 5, 7]</code> and <code>R=[2, 4, 6, 8]</code>. Let <code>i, j</code> be the indexes. The initial state is</p>
<img src="/2019/07/02/leetcode-493/merge_state_1.png">

<p>We compare the <code>R[i]</code> and <code>L[j]</code> and put the smaller one to the new list. After that, the smaller one&#39;s index move to next one.</p>
<img src="/2019/07/02/leetcode-493/merge_state_2.png">

<p>This process continues until the big list is filled up.</p>
<p>In 493, what we need to do is just repeat this process similarly once before this process. We still use two indexes and compare the values, but at this time, we should compare <code>L[i]</code> and <code>2 * R[j]</code>.</p>
<p>If <code>L[i] &gt; 2 * R[j]</code>, then we can make sure that all the elements after <code>i</code> in <code>L</code> are also bigger than <code>2 * R[j]</code> because <code>L</code> is sorted. Thus, we just need to add <code>L.size() - i</code> to the total number and move <code>j</code> to the next one.</p>
<p>If <code>L[i] &lt;= 2 * R[j]</code>, just move <code>i</code> to the next one.</p>
<img src="/2019/07/02/leetcode-493/merge_state_3.png">

<p>Finally, what we get is two processes. The first one is comparing <code>L[i]</code> and <code>2 * R[j]</code> and modify the number of reverse pairs, and the second one is the general merging process of the mergesort. The two processes only access each element once, so the time complexity is $O(n)$. With the division process time complexity $O(logn)$, the total time complexity of this solution is $O(nlogn)$.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/02/common-data-structures-and-algorithms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/02/common-data-structures-and-algorithms/" itemprop="url">
                  Common Data Structures and Algorithms
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-07-02 15:26:20" itemprop="dateCreated datePublished" datetime="2019-07-02T15:26:20+09:00">2019-07-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The simplest are also the most important.</p>
<h1 id="Arrays-and-Linked-Lists"><a href="#Arrays-and-Linked-Lists" class="headerlink" title="Arrays and Linked Lists"></a>Arrays and Linked Lists</h1><p>In almost every programming language, arrays are built-in data structures. An array arranges continuous space for objects, and is good at random access. However, arrays perform bad when meet insertions and deletions, and cost a lot to change their sizes.</p>
<p>With a linked list, insertions and deletions are very fast to perform, but one cannot access objects randomly in a linked list with $O(1)$ time complexity.</p>
<p>Many complex data structures are implemented based on these two simple data structures.</p>
<h1 id="Stacks"><a href="#Stacks" class="headerlink" title="Stacks"></a>Stacks</h1><blockquote>
<p>In a <strong>stack</strong> data structure, all insertions and deletions of entries are made at one end, called the top of the stack. When we add an item to a stack, we say that we push it onto the stack, and when we remove an item, we say that we pop it from the stack. Note that the last item pushed onto a stack is always the first that will be popped from the stack. This property is called <strong>last in, first out</strong>, or <strong>LIFO</strong> for short.</p>
</blockquote>
<p>Stacks are simple enough to be understood by only a few sentences. The most important feature of a stack is the <strong>LIFO</strong> property, which is very useful when a task about reversal need to be performed.</p>
<h2 id="Example-Reverse-a-List"><a href="#Example-Reverse-a-List" class="headerlink" title="Example: Reverse a List"></a>Example: Reverse a List</h2><p>When a series of objects need to be loaded and written out in reverse order, it&#39;s suitable to use a stack to accomplish the task. Consider a series of input as follow,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10 // The number of objects.</span><br><span class="line">1,2,3,4,5,6,7,8,9,10 // The objects.</span><br></pre></td></tr></table></figure>

<p>A list in reverse order should be output like,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10,9,8,7,6,5,4,3,2,1</span><br></pre></td></tr></table></figure>

<p>At this time, a perfect solution is using a stack. After pushing all the numbers into the stack, the reverse order of the list is automatically produced by popping them out.</p>
<h1 id="Queues"><a href="#Queues" class="headerlink" title="Queues"></a>Queues</h1><blockquote>
<p>For computer applications, we similarly define a queue to be a list in which all additions to the list are mode at one end, and all deletions from the list are made at the other end. Queues are also called <strong>first-in, first-out lists</strong>, or <strong>FIFO</strong> for short.</p>
</blockquote>
<p>As a good brother of stacks, queues are also easy to understand. It&#39;s <strong>FIFO</strong> property is extremely suitable to perform tasks with particular orders, especially when some tasks need to wait for some other tasks.</p>
<h1 id="Heaps"><a href="#Heaps" class="headerlink" title="Heaps"></a>Heaps</h1><blockquote>
<p>In a max heap, for any given node $C$, if $P$ is a parent node of $C$, then the key (the value) of $P$ is greater than or equal to the key of $C$. In a min heap, the key of $P$ is less than or equal to the key of $C$.</p>
</blockquote>
<p>Heaps are often implemented by a binary tree, and a few important operations are listed below.</p>
<h2 id="Insertion"><a href="#Insertion" class="headerlink" title="Insertion"></a>Insertion</h2><p>To insert a new node to a heap, the general idea is to do swapping after the node is inserted to the &quot;end&quot;.</p>
<img src="/2019/07/02/common-data-structures-and-algorithms/heap-insertion.png">

<h2 id="Deletion"><a href="#Deletion" class="headerlink" title="Deletion"></a>Deletion</h2><p>Only the root can be deleted. We move the node in the &quot;end&quot; to the root and heapify.</p>
<img src="/2019/07/02/common-data-structures-and-algorithms/heap-deletion.png">

<h1 id="Binary-Trees"><a href="#Binary-Trees" class="headerlink" title="Binary Trees"></a>Binary Trees</h1><p>Binary trees are very powerful tools to solve difficult problems, but it is also difficult to determine when to use binary trees and what kinds of trees to use. Here some typical binary trees are introduced, but at first, let&#39;s remember the precise definition of a binary tree.</p>
<blockquote>
<p>A binary tree is either empty, or it consists of a node called the <strong>root</strong> together with two binary trees called the <strong>left subtree</strong> and the <strong>right subtree</strong> of the root.</p>
</blockquote>
<h2 id="Binary-Search-Trees-BST"><a href="#Binary-Search-Trees-BST" class="headerlink" title="Binary Search Trees (BST)"></a>Binary Search Trees (BST)</h2><blockquote>
<p>A binary search tree is a binary tree that is either empty or in which every node has a key and satisfies the following conditions:</p>
<ol>
<li>The key of the root (if it exists) is greater than the key in any node in the left subtree of the root.</li>
<li>The key of the root (if it exists) is less than the key in any node in the right substree of the root.</li>
<li>The left and right subtrees of the root are again binary search trees.</li>
</ol>
</blockquote>
<p>We focus on the search, insertion and deletion of elements on a binary search tree.</p>
<p><strong>Search</strong> is quite simple. Since the tree has the unequality property and is recursively defined, we can just use a simple recursive or iterative function to accomplish the task. Note that searching a key in the tree has a time complexity $O(log n)$.</p>
<p><strong>Insertion</strong> requires that after adding to new node to the tree, the tree is still a BST. However, since the tree is not required to be balanced, the process of insertion is quite like the process of search. We search in the tree as if the node has already been inserted, and when we reach a leaf node, we insert the node under that leaf node.</p>
<img src="/2019/07/02/common-data-structures-and-algorithms/bst_insertion.png">

<p><strong>Deletion</strong> meets difficulties when a node with both left and right subtrees exist. At this time, we find the most farthest and most rightest child of the <strong>left subtree</strong> and replace it with the node. Since the child node is the greatest one of the left subtree and it is still less than any node on the right subtree, the replacement is safe. Note that this node may not be a leaf node but a node with only a left subtree, so a recursive deletion may occur.</p>
<img src="/2019/07/02/common-data-structures-and-algorithms/bst_deletion.png">

<h2 id="AVL-Trees"><a href="#AVL-Trees" class="headerlink" title="AVL Trees"></a>AVL Trees</h2><p>BSTs are no more than a good start point, because we cannot control the height of the tree when insertions or deletions occur frequently. AVL trees are mean to solve this problem, which can let a BST always be balanced.</p>
<blockquote>
<p>An <strong>AVL tree</strong> is a binary search tree in which the heights of the left and right substrees of the root differ by at most 1 and in which the left and right subtrees are again AVL trees.<br>With each node of an AVL tree is associated a <strong>balance factor</strong> that is <strong>left-higher</strong>, <strong>equal-height</strong>, or <strong>right-higher</strong> according, respectively, as the left subtree has height greater than, equal to, or less than that of the right subtree.</p>
</blockquote>
<p>The most important feature of an AVL tree is that it will perform some special operations, called rotations, in order to keep balance of the tree when insertions or deletions attempt to break the balance.</p>
<p>Let us first redefine the concept <strong>balance factor</strong>. Let $H_L(x)$ be the height of the left subtree of the node $x$, and $H_R(x)$ be the height of the right subtree. We say that the balance factor of node $x$</p>
<p>$$<br>bf(x) = H_L(x) - H_R(x)<br>$$</p>
<p>Therefore, any node $x$ of an AVL tree satisfies $|bf(x)| \le 1$.</p>
<p>When we meet a node $x$ that has a balance factor $|bf(x)| &gt; 1$, generally there are four rotations like showing in the following table.</p>
<img src="/2019/07/02/common-data-structures-and-algorithms/avl_rotations.png">

<p><strong>Insertion</strong> of a new node to an AVL tree has a new step after the node is inserted like a BST. First we insert the node as we insert the node to a BST, and then, we need to check the balance factor from the inserted node backward one by one. When we meet a node $x$ that has a balance factor $|bf(x)| &gt; 1$, we stop immediately and perform a rotation to that node.</p>
<p><strong>Deletion</strong> of a node in an AVL tree requires checking backward from the deleted node to the root node. If an unbalanced node is found, perform a rotation to that node.</p>
<h1 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h1><blockquote>
<p>Recursion is the name for the case when a function invokes itself or invokes a sequence of other functions, one of which eventually invokes the first function again.</p>
</blockquote>
<p>Recursion is a good way to fast accomplish a specific group of tasks like factorials. However, any recursive program can be rewritten to a iterative program with higher performance. Therefore, in modern software development, it is not a good idea to use recursion directly, but it is still worthwhile to learn because it provides a good method for us to find out answers of some complicated questions.</p>
<p>There are two main situations under which we may let recursion in. The first one is that we can write a formula which specify the relationship between the current state and one or a few previous states. Besides, an initial state is specified. For example, the factorials can be written like</p>
<p>$$<br>n! = \begin{cases}<br>    1 &amp;n = 0 \\<br>    n(n - 1)! &amp; n &gt; 0<br>\end{cases}<br>$$</p>
<p>$n = 0$ is the initial state and when $n &gt; 0$, the result is computed by $(n - 1)!$, a same problem but with a smaller scale.</p>
<h2 id="Example-The-Towers-of-Hanoi"><a href="#Example-The-Towers-of-Hanoi" class="headerlink" title="Example: The Towers of Hanoi"></a>Example: The Towers of Hanoi</h2><p>If someone would like to teach recursion, he or she must introduce this typical problem – The Towers of Hanoi. This is a question that almost every one knows but, not all people can write down the solution immediately.</p>
<p>It is not so obvious that this problem is under the first situation, but we still can write down a formula here. Let <code>m(n, s, d, t)</code> represents &quot;the steps move <code>n</code> disks from tower <code>s</code> to tower <code>d</code> using <code>t</code> as a temporary tower.&quot; Therefore, the formula can be written as</p>
<p>$$<br>m(n, s, d, t) = \begin{cases}<br>\text{do nothing} &amp; n = 0 \\<br>m(n - 1, s, t, d) + m(1, s, d, t) + m(n - 1, t, d, s) &amp; n &gt; 0<br>\end{cases}<br>$$</p>
<p>The following is a simple <code>C++</code> recursive program to accomplish the task.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> s, <span class="keyword">int</span> d, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        move(n - <span class="number">1</span>, s, t, d);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"move %d from %d to %d\n"</span>, n, s, d);</span><br><span class="line">        move(n - <span class="number">1</span>, t, d, s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>One more thing to say is that this program is terrible because every call produces two calls. Thus, with $n$ plates, the total number of calls is</p>
<p>$$<br>1 + 2 + 4 + \cdots + 2^{n - 1} = 2^n - 1<br>$$</p>
<p>Therefore, this is a program with $O(2^n)$ time complexity.</p>
<hr>
<p>The second situation is that we need to do backtracking during the execution. In other words, we need to undo some operations that have already been done before. At this time, the structure of a recursive program is very useful. The next example is the typical Eight-Queens Puzzle, which will illustrate how the backtracking works.</p>
<h2 id="Example-The-Eight-Queens-Puzzle"><a href="#Example-The-Eight-Queens-Puzzle" class="headerlink" title="Example: The Eight-Queens Puzzle"></a>Example: The Eight-Queens Puzzle</h2><p>Computers are good at enumerating. When they meet the Eight-Queens Puzzle, they simply try all possible positions row by row. Obviously, it is easy to reach a dead end and a backtracking need to be performed, so we use a recursive structure to accomplish the task.</p>
<p>The following is a simple <code>C++</code> recursive program to solve the puzzle.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The board is a 8x8 array with 0 representing empty and 1 representing</span></span><br><span class="line"><span class="comment">// a queen.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// canPlace validates whether (row, col) can be placed a queen on the board.</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canPlace</span><span class="params">(<span class="keyword">int</span> board[<span class="number">8</span>][<span class="number">8</span>], <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Validate the row and the column.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        <span class="keyword">if</span> (board[row][i] &amp;&amp; i != col || board[i][col] &amp;&amp; i != row)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Validate the diagonal.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">8</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] &amp;&amp; i != row &amp;&amp; </span><br><span class="line">                (i + j == row + col || i - j == row - col))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// eightQueensPuzzle returns true when the rows &gt;= row can be placed</span></span><br><span class="line"><span class="comment">// correctly on the board.</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">eightQueensPuzzle</span><span class="params">(<span class="keyword">int</span> board[<span class="number">8</span>][<span class="number">8</span>], <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == <span class="number">8</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Enumerate the row.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (canPlace(board, row, i)) &#123;</span><br><span class="line">            board[row][i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (eightQueensPuzzle(board, row + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="comment">// If the rows &gt;= row + 1 can be placed correctly, since the</span></span><br><span class="line">                <span class="comment">// current place is valid, the puzzle is solved.</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// The current place reaches a dead end, try the next place.</span></span><br><span class="line">                board[row][i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If the current row has one queen placed, a true is returned.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) <span class="keyword">if</span> (board[row][i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Can you find all solutions of the Eight-Queens Puzzle?</p>
<h1 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h1><p>Every one knows the general idea of binary search. The problem is that when to use it to reduce the time complexity of a program. Here I would like to introduce a &quot;standard&quot; implementation of binary search. Note that even the general idea of binary search is the same, the actual times of comparison may still vary from implementations to implementations.</p>
<p>Here is the code of searching in a sorted <code>vector</code> of integers.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> right = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h1><p>Sorting is a very facinating topic in the field of algorithms. It can be simple, like perform a selection sort on a list of integers, and suitable for newcommers to learn. It is also worth thinking because the mergesort and the quicksort are two of the most typical algorithms applying the divide-and-conquer method, which are widely used in plenty of tasks. It is extremely useful because it can reduce the time complexity of searching. It also provides judgements of performances of other algorithms. In conclusion, it is worthwhile to learn sorting as many times as you can and to remember it in your heart.</p>
<p>I am not going to introduce sorting algorithms with $O(n^2)$ time complexity like selection sort or bubble sort. I will main focus on quicksort and mergesort here.</p>
<h2 id="Mergesort"><a href="#Mergesort" class="headerlink" title="Mergesort"></a>Mergesort</h2><blockquote>
<p>In the first method, we simply chop the list into two sublists of sizes as nearly equal as possible and then sort them separately. Afterward, we carefully merge the two sorted sublists into a single sorted list.</p>
</blockquote>
<p>The main procedure of mergesort is to divide the list into two sublists and perform mergesort on each sublist, repectively. Then the sublists will be merged to a sorted list. This process is recursive. When a sublist only contains one element, this sublist is automatically sorted and the combination begins immediately.</p>
<p>The following is a common recursive <code>C++</code> implementation to sort a <code>vector</code> of integers.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">recursiveMergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left == right) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Sort the left sublist and the right sublist, respectively.</span></span><br><span class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">    recursiveMergeSort(nums, left, mid);</span><br><span class="line">    recursiveMergeSort(nums, mid + <span class="number">1</span>, right);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Merge the two sublists.</span></span><br><span class="line">    <span class="keyword">int</span> i = left, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp(right - left + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; tmp.size(); k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt;= nums[j]) &#123;</span><br><span class="line">                tmp[k] = nums[j];</span><br><span class="line">                j++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp[k] = nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; mid) &#123;</span><br><span class="line">            tmp[k] = nums[j];</span><br><span class="line">            j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; right) &#123;</span><br><span class="line">            tmp[k] = nums[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; tmp.size(); k++) &#123;</span><br><span class="line">        nums[left + k] = tmp[k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span> </span>&#123;</span><br><span class="line">    recursiveMergeSort(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p>Robert L. K. and Alexander J. R., <em>Data Structures and Program Design in C++</em>.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/18/cflp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/18/cflp/" itemprop="url">
                  Capacitated Facility Location Problem
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-18 13:12:40" itemprop="dateCreated datePublished" datetime="2018-12-18T13:12:40+09:00">2018-12-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Capacitated Facility Location Problem(CFLP)问题是一个典型的NP-Hard问题，该问题的描述如下，</p>
<ul>
<li>给定<code>N</code>个设施(facility)和<code>M</code>位顾客(customer)，每个设施有一个最大容量<code>s</code>，并且可以选择开启或关闭，开启有一个开启费用<code>f</code>。</li>
<li>每位顾客有一个需求<code>d</code>，需要被某个或某些个设施满足，某个设施满足的需求数不得超过其最大容量<code>s</code>。</li>
<li>每个设施到每个顾客都有一个满足费用<code>c</code>，即满足某个顾客单位需求的费用。</li>
<li>最小化满足所有顾客所有需求的总费用。</li>
</ul>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>引入如下的数学符号，</p>
<ul>
<li>$N$表示设施数，$M$表示顾客数。</li>
<li>$s_i, \forall i = 0,…,N-1$表示设施$i$的最大容量。</li>
<li>$f_i, \forall i = 0,…,N-1$表示设施$i$的开启费用。</li>
<li>$d_i, \forall i = 0,…,M-1$表示顾客$i$的需求。</li>
<li>$c_{ij}, \forall i = 0,…,N-1, j = 0,…,M-1$表示设施$i$满足顾客$j$<strong>单位</strong>需求所需费用。</li>
<li>注：一般而言，用$c_{ij}$表示的是满足顾客所有需求所需费用，这里为避免引入除法和分数采用<strong>单位</strong>需求。</li>
</ul>
<p>并将CFLP的解表示为，</p>
<ul>
<li>$x_i, \forall i = 0,…,N-1, x_i \in \{0,1\}$表示设施$i$的开启状况，1表示开启，0表示关闭。</li>
<li>$y_{ij}, \forall i = 0,…,N-1, j=0,…,M-1$表示设施$i$满足顾客$j$的需求数。</li>
</ul>
<p>那么CFLP可以表示为如下的最优化问题，</p>
<p>$$<br>min \sum_{i=0}^{N-1}\sum_{j=0}^{M-1}c_{ij}y_{ij} + \sum_{i=0}^{N-1}f_ix_i \quad s.t. \\<br>\begin{align}<br>y_{ij} \ge 0 &amp; \quad  \forall i=0,…,N-1, j=0,…,M-1 \\<br>\sum_{j=0}^{M-1}y_{ij} \le s_ix_i &amp; \quad \forall i=0,…,N-1 \\<br>\sum_{i=0}^{N-1}y_{ij} = d_j &amp; \quad \forall j=0,…,M-1 \\<br>x_i \in \{0,1\} &amp; \quad \forall i=0,…,N-1<br>\end{align}<br>$$</p>
<p>CFLP的条件比较多，但您可以将解过程分为两个部分，</p>
<ul>
<li>开启一些设施（求解$x$）。</li>
<li>决定每个顾客在每个设施中满足需求的数量（将用户需求赋值给设施，求解$y$）。</li>
</ul>
<p>其中，开启设施共有$2^N$种可能性，也是使得这个问题无法在多项式时间内求解的关键因素。当开启的设施已经被选定时，可以采用如下的贪心策略对设施赋值，</p>
<ol>
<li>在已开启且还有容量剩余的设施和还未被满足需求的顾客中选择费用最低的设施-顾客对，尽可能地满足该顾客，直到所有顾客都被满足。</li>
<li>若该顾客已满足，则将顾客移出考虑范围；若该顾客未被满足，则设施已达到最大容量，将该设施移出考虑范围；特别的，恰好满足时，同时移除设施和顾客；此时如果还有顾客未被满足，则返回1，否则结束过程。</li>
</ol>
<p>因此，考虑的重点在于选择哪些设施进行开启，下面将着重阐述若干个策略。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p><a href="https://github.com/hinanawitenshi/CFLP" target="_blank" rel="noopener">Github Repo</a></p>
<ul>
<li>实现框架：Golang+Cobra命令行程序</li>
</ul>
<h3 id="问题的表示"><a href="#问题的表示" class="headerlink" title="问题的表示"></a>问题的表示</h3><p>问题包含$N,M,s,f,d,c$五个变量，其中$N,M$用两个整数表示，$s,f$分别用一个长度为$N$的一维数组表示，$d$用一个长度为$M$的一维数组表示，$c$采用一个$N \times M$的二维数组表示，结构如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Problem contains data of a CFLP.</span></span><br><span class="line"><span class="keyword">type</span> Problem <span class="keyword">struct</span> &#123;</span><br><span class="line">    N, M        <span class="keyword">int</span></span><br><span class="line">    Capacities  []<span class="keyword">int</span></span><br><span class="line">    FixedCosts  []<span class="keyword">int</span></span><br><span class="line">    Demands     []<span class="keyword">int</span></span><br><span class="line">    TotalDemand <span class="keyword">int</span></span><br><span class="line">    Costs       [][]<span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注：为了计算方便，在读取数据的时候计算了总需求并储存在变量<code>TotalDemand</code>中。</p>
<p>易得，读取数据的时间复杂度为$O(NM)$，空间复杂度为$O(NM)$。</p>
<h2 id="解的表示"><a href="#解的表示" class="headerlink" title="解的表示"></a>解的表示</h2><p>一个解包含设施的开启信息$x$和用户需求的赋值信息$y$，分别使用一个长度为$N$的一维数组和一个$N \times M$的二维数组表示，结构如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Solution represents a solution of a CFLP.</span></span><br><span class="line"><span class="keyword">type</span> Solution <span class="keyword">struct</span> &#123;</span><br><span class="line">    *Problem</span><br><span class="line">    X       []<span class="keyword">bool</span></span><br><span class="line">    Y       [][]<span class="keyword">int</span></span><br><span class="line">    RunTime <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注：添加了<code>RunTime</code>记录运行时间。</p>
<p>当<code>X</code>确定时，采用上面提到的贪心策略进行需求赋值的代码过程如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Assign assigns demands to facility based on current opened facilities.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Solution)</span> <span class="title">Assign</span><span class="params">()</span></span> &#123;</span><br><span class="line">    totalDemand := s.TotalDemand</span><br><span class="line">    filled := <span class="built_in">make</span>([]<span class="keyword">int</span>, s.N)</span><br><span class="line">    demands := <span class="built_in">make</span>([]<span class="keyword">int</span>, s.M)</span><br><span class="line">    <span class="keyword">for</span> j := <span class="keyword">range</span> s.Demands &#123;</span><br><span class="line">        demands[j] = s.Demands[j]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> s.Y &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="keyword">range</span> s.Y[i] &#123;</span><br><span class="line">            s.Y[i][j] = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> totalDemand &gt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="comment">// find the cheapest cost</span></span><br><span class="line">        minI := <span class="number">0</span></span><br><span class="line">        minJ := <span class="number">0</span></span><br><span class="line">        minCost := math.MaxInt32</span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> s.Costs &#123;</span><br><span class="line">            <span class="keyword">if</span> !s.X[i] || filled[i] == s.Capacities[i] &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> j := <span class="keyword">range</span> s.Costs[i] &#123;</span><br><span class="line">                <span class="keyword">if</span> s.Costs[i][j] &lt; minCost &amp;&amp; demands[j] &gt; <span class="number">0</span> &#123;</span><br><span class="line">                    minI = i</span><br><span class="line">                    minJ = j</span><br><span class="line">                    minCost = s.Costs[i][j]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// assign</span></span><br><span class="line">        <span class="keyword">var</span> fill <span class="keyword">int</span></span><br><span class="line">        <span class="keyword">if</span> s.Capacities[minI]-filled[minI] &lt;= demands[minJ] &#123;</span><br><span class="line">            <span class="comment">// the facility will be full</span></span><br><span class="line">            fill = s.Capacities[minI] - filled[minI]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// the facility has more capacity then the demand</span></span><br><span class="line">            fill = demands[minJ]</span><br><span class="line">        &#125;</span><br><span class="line">        demands[minJ] -= fill</span><br><span class="line">        totalDemand -= fill</span><br><span class="line">        s.Y[minI][minJ] += fill</span><br><span class="line">        filled[minI] += fill</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可见，该过程须要临时保留每个设施被占用的容量以及每个顾客剩余的需求，因此空间复杂度为$O(N+M)$。</p>
<p>时间上，每次循环内需要便利所有符合条件的设施-用户对的费用，循环内时间复杂度为$O(NM)$，而每次循环过后必定有一个用户得到满足或者某个设施占用容量达到最大，所以循环次数不会超过设施数和用户数的总和，因此整个过程的时间复杂度为$O(NM(N+M))$。</p>
<h2 id="Greedy-贪心策略"><a href="#Greedy-贪心策略" class="headerlink" title="Greedy 贪心策略"></a>Greedy 贪心策略</h2><p>在选择设施上进行贪心策略显然不是最优的，但贪心策略的优点在于运行速度快，能够很快地得到一个参考结果，用于对比其他算法的解。</p>
<p>贪心策略非常简单，</p>
<ol>
<li>选择设施中未开启的开启费用最少的设施，开启它。</li>
<li>若开启的设施的总容量小于顾客的总需求，回到1，否则结束。</li>
</ol>
<p>运行代码片段如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Solver)</span> <span class="title">solveByGreedy</span><span class="params">()</span> *<span class="title">Solution</span></span> &#123;</span><br><span class="line">    <span class="comment">// initialize a solution</span></span><br><span class="line">    sol := s.initSolution()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// find the cheapest facility and turn it on</span></span><br><span class="line">    minFPos := <span class="number">0</span></span><br><span class="line">    minF := math.MaxInt32</span><br><span class="line">    <span class="keyword">for</span> i, f := <span class="keyword">range</span> s.p.FixedCosts &#123;</span><br><span class="line">        <span class="keyword">if</span> f &lt; minF &#123;</span><br><span class="line">            minFPos = i</span><br><span class="line">            minF = f</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Open the facility</span></span><br><span class="line">    sol.Open(minFPos)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// open from cheaper until all demands can be satisfied</span></span><br><span class="line">    <span class="keyword">for</span> !sol.Valid() &#123;</span><br><span class="line">        minFPos = <span class="number">0</span></span><br><span class="line">        minF = math.MaxInt32</span><br><span class="line">        <span class="keyword">for</span> i, f := <span class="keyword">range</span> s.p.FixedCosts &#123;</span><br><span class="line">            <span class="keyword">if</span> f &lt; minF &amp;&amp; !sol.X[i] &#123;</span><br><span class="line">                minFPos = i</span><br><span class="line">                minF = f</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sol.Open(minFPos)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// assign the demands</span></span><br><span class="line">    sol.Assign()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sol</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><p>整个算法的流程如下，</p>
<ol>
<li>初始化解（$O(MN)$）。</li>
<li>寻找未开启设施中开启费用最低的设施（$O(N)$）。</li>
<li>若开启的设施无法满足所用顾客的需要，返回2。(最多返回$N$次)</li>
<li>需求赋值（$O(MN(M+N))$）。</li>
</ol>
<p>因此，贪心策略的时间复杂度为$O(N^2 + MN(M+N))$。</p>
<p>由于整个过程仅需要保持一个解，空间复杂度为$O(MN)$。</p>
<h3 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h3><p>在71个问题的问题集上的实验结果如下，</p>
<table>
<thead>
<tr>
<th></th>
<th>Result</th>
<th>Time(s)</th>
</tr>
</thead>
<tbody><tr>
<td><a href="results/greedy/p1">p1</a></td>
<td>12989.953</td>
<td>0.00004</td>
</tr>
<tr>
<td><a href="results/greedy/p2">p2</a></td>
<td>9288.850</td>
<td>0.00007</td>
</tr>
<tr>
<td><a href="results/greedy/p3">p3</a></td>
<td>10488.850</td>
<td>0.00008</td>
</tr>
<tr>
<td><a href="results/greedy/p4">p4</a></td>
<td>11688.850</td>
<td>0.00036</td>
</tr>
<tr>
<td><a href="results/greedy/p5">p5</a></td>
<td>10902.060</td>
<td>0.00008</td>
</tr>
<tr>
<td><a href="results/greedy/p6">p6</a></td>
<td>9832.666</td>
<td>0.00007</td>
</tr>
<tr>
<td><a href="results/greedy/p7">p7</a></td>
<td>11432.666</td>
<td>0.00006</td>
</tr>
<tr>
<td><a href="results/greedy/p8">p8</a></td>
<td>13032.666</td>
<td>0.00016</td>
</tr>
<tr>
<td><a href="results/greedy/p9">p9</a></td>
<td>10980.250</td>
<td>0.00010</td>
</tr>
<tr>
<td><a href="results/greedy/p10">p10</a></td>
<td>10458.043</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p11">p11</a></td>
<td>11458.043</td>
<td>0.00006</td>
</tr>
<tr>
<td><a href="results/greedy/p12">p12</a></td>
<td>12458.043</td>
<td>0.00004</td>
</tr>
<tr>
<td><a href="results/greedy/p13">p13</a></td>
<td>11015.048</td>
<td>0.00028</td>
</tr>
<tr>
<td><a href="results/greedy/p14">p14</a></td>
<td>8514.791</td>
<td>0.00006</td>
</tr>
<tr>
<td><a href="results/greedy/p15">p15</a></td>
<td>10114.791</td>
<td>0.00012</td>
</tr>
<tr>
<td><a href="results/greedy/p16">p16</a></td>
<td>11714.791</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p17">p17</a></td>
<td>10295.318</td>
<td>0.00006</td>
</tr>
<tr>
<td><a href="results/greedy/p18">p18</a></td>
<td>8543.171</td>
<td>0.00007</td>
</tr>
<tr>
<td><a href="results/greedy/p19">p19</a></td>
<td>10143.171</td>
<td>0.00013</td>
</tr>
<tr>
<td><a href="results/greedy/p20">p20</a></td>
<td>11743.171</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p21">p21</a></td>
<td>12235.528</td>
<td>0.00022</td>
</tr>
<tr>
<td><a href="results/greedy/p22">p22</a></td>
<td>11363.414</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p23">p23</a></td>
<td>12563.414</td>
<td>0.00005</td>
</tr>
<tr>
<td><a href="results/greedy/p24">p24</a></td>
<td>13763.414</td>
<td>0.00008</td>
</tr>
<tr>
<td><a href="results/greedy/p25">p25</a></td>
<td>78338.667</td>
<td>0.00039</td>
</tr>
<tr>
<td><a href="results/greedy/p26">p26</a></td>
<td>63710.947</td>
<td>0.00032</td>
</tr>
<tr>
<td><a href="results/greedy/p27">p27</a></td>
<td>65310.947</td>
<td>0.00032</td>
</tr>
<tr>
<td><a href="results/greedy/p28">p28</a></td>
<td>66910.947</td>
<td>0.00034</td>
</tr>
<tr>
<td><a href="results/greedy/p29">p29</a></td>
<td>65258.221</td>
<td>0.00040</td>
</tr>
<tr>
<td><a href="results/greedy/p30">p30</a></td>
<td>54927.860</td>
<td>0.00038</td>
</tr>
<tr>
<td><a href="results/greedy/p31">p31</a></td>
<td>56927.860</td>
<td>0.00043</td>
</tr>
<tr>
<td><a href="results/greedy/p32">p32</a></td>
<td>58927.860</td>
<td>0.00145</td>
</tr>
<tr>
<td><a href="results/greedy/p33">p33</a></td>
<td>77701.857</td>
<td>0.00035</td>
</tr>
<tr>
<td><a href="results/greedy/p34">p34</a></td>
<td>53887.154</td>
<td>0.00033</td>
</tr>
<tr>
<td><a href="results/greedy/p35">p35</a></td>
<td>55487.154</td>
<td>0.00035</td>
</tr>
<tr>
<td><a href="results/greedy/p36">p36</a></td>
<td>57087.154</td>
<td>0.00065</td>
</tr>
<tr>
<td><a href="results/greedy/p37">p37</a></td>
<td>101999.196</td>
<td>0.00024</td>
</tr>
<tr>
<td><a href="results/greedy/p38">p38</a></td>
<td>73636.480</td>
<td>0.00020</td>
</tr>
<tr>
<td><a href="results/greedy/p39">p39</a></td>
<td>74636.480</td>
<td>0.00022</td>
</tr>
<tr>
<td><a href="results/greedy/p40">p40</a></td>
<td>75636.480</td>
<td>0.00020</td>
</tr>
<tr>
<td><a href="results/greedy/p41">p41</a></td>
<td>7276.556</td>
<td>0.00021</td>
</tr>
<tr>
<td><a href="results/greedy/p42">p42</a></td>
<td>8068.351</td>
<td>0.00010</td>
</tr>
<tr>
<td><a href="results/greedy/p43">p43</a></td>
<td>6383.929</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p44">p44</a></td>
<td>7995.223</td>
<td>0.00021</td>
</tr>
<tr>
<td><a href="results/greedy/p45">p45</a></td>
<td>8089.250</td>
<td>0.00013</td>
</tr>
<tr>
<td><a href="results/greedy/p46">p46</a></td>
<td>6915.251</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p47">p47</a></td>
<td>7705.325</td>
<td>0.00015</td>
</tr>
<tr>
<td><a href="results/greedy/p48">p48</a></td>
<td>7874.275</td>
<td>0.00019</td>
</tr>
<tr>
<td><a href="results/greedy/p49">p49</a></td>
<td>6960.522</td>
<td>0.00009</td>
</tr>
<tr>
<td><a href="results/greedy/p50">p50</a></td>
<td>12441.358</td>
<td>0.00025</td>
</tr>
<tr>
<td><a href="results/greedy/p51">p51</a></td>
<td>9382.546</td>
<td>0.00034</td>
</tr>
<tr>
<td><a href="results/greedy/p52">p52</a></td>
<td>13378.456</td>
<td>0.00016</td>
</tr>
<tr>
<td><a href="results/greedy/p53">p53</a></td>
<td>12650.089</td>
<td>0.00019</td>
</tr>
<tr>
<td><a href="results/greedy/p54">p54</a></td>
<td>10536.867</td>
<td>0.00016</td>
</tr>
<tr>
<td><a href="results/greedy/p55">p55</a></td>
<td>12258.408</td>
<td>0.00019</td>
</tr>
<tr>
<td><a href="results/greedy/p56">p56</a></td>
<td>32522.303</td>
<td>0.00113</td>
</tr>
<tr>
<td><a href="results/greedy/p57">p57</a></td>
<td>37322.303</td>
<td>0.00119</td>
</tr>
<tr>
<td><a href="results/greedy/p58">p58</a></td>
<td>48522.303</td>
<td>0.00209</td>
</tr>
<tr>
<td><a href="results/greedy/p59">p59</a></td>
<td>30606.927</td>
<td>0.00110</td>
</tr>
<tr>
<td><a href="results/greedy/p60">p60</a></td>
<td>37243.427</td>
<td>0.00082</td>
</tr>
<tr>
<td><a href="results/greedy/p61">p61</a></td>
<td>40543.427</td>
<td>0.00142</td>
</tr>
<tr>
<td><a href="results/greedy/p62">p62</a></td>
<td>48243.427</td>
<td>0.00082</td>
</tr>
<tr>
<td><a href="results/greedy/p63">p63</a></td>
<td>31843.780</td>
<td>0.00091</td>
</tr>
<tr>
<td><a href="results/greedy/p64">p64</a></td>
<td>34081.806</td>
<td>0.00061</td>
</tr>
<tr>
<td><a href="results/greedy/p65">p65</a></td>
<td>36481.806</td>
<td>0.00061</td>
</tr>
<tr>
<td><a href="results/greedy/p66">p66</a></td>
<td>42081.806</td>
<td>0.00063</td>
</tr>
<tr>
<td><a href="results/greedy/p67">p67</a></td>
<td>32210.447</td>
<td>0.00096</td>
</tr>
<tr>
<td><a href="results/greedy/p68">p68</a></td>
<td>38955.963</td>
<td>0.00073</td>
</tr>
<tr>
<td><a href="results/greedy/p69">p69</a></td>
<td>41955.963</td>
<td>0.00071</td>
</tr>
<tr>
<td><a href="results/greedy/p70">p70</a></td>
<td>48955.963</td>
<td>0.00128</td>
</tr>
<tr>
<td><a href="results/greedy/p71">p71</a></td>
<td>31843.976</td>
<td>0.00096</td>
</tr>
</tbody></table>
<h2 id="Brute-Force-暴力求解"><a href="#Brute-Force-暴力求解" class="headerlink" title="Brute Force 暴力求解"></a>Brute Force 暴力求解</h2><p>在$N$比较小时，可以使用暴力求解的方式，即枚举所有设施开启和关闭的可能性（共$2^N$种可能）。暴力求解的时间复杂度为$O(2^N)$，因此当$N$比较大时，这种方法是不适用的，但是暴力求解可以在不清楚最优解的情况下找到一个理论上的最优解，用于比较分析其他求解算法。</p>
<p>暴力求解的代码过程如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Solver)</span> <span class="title">solveByBruteForce</span><span class="params">()</span> *<span class="title">Solution</span></span> &#123;</span><br><span class="line">    <span class="comment">// initialize a solution</span></span><br><span class="line">    <span class="keyword">var</span> bestSol *Solution</span><br><span class="line">    bestCost := math.MaxFloat64</span><br><span class="line"></span><br><span class="line">    <span class="comment">// enumerate all situations</span></span><br><span class="line">    total := <span class="number">1</span> &lt;&lt; <span class="keyword">uint</span>(s.p.N)</span><br><span class="line">    <span class="keyword">for</span> c := <span class="number">0</span>; c &lt; total; c++ &#123;</span><br><span class="line">        <span class="comment">// output intermidiate results</span></span><br><span class="line">        <span class="keyword">if</span> c%<span class="number">2000</span> == <span class="number">0</span> &#123;</span><br><span class="line">            log.Printf(<span class="string">"evaluating %s(%d/%d) best=%.3f\n"</span>,</span><br><span class="line">                strconv.FormatInt(<span class="keyword">int64</span>(c), <span class="number">2</span>), c, total, bestCost)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// initialize a solution</span></span><br><span class="line">        sol := s.initSolution()</span><br><span class="line">        <span class="comment">// open the facilities</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> sol.X &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="number">1</span>&lt;&lt;<span class="keyword">uint</span>(i)&amp;c &gt; <span class="number">0</span> &#123;</span><br><span class="line">                sol.Open(i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// if the solution cannot satisfy all customers, skip</span></span><br><span class="line">        <span class="keyword">if</span> !sol.Valid() &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// assign and compute the cost</span></span><br><span class="line">        sol.Assign()</span><br><span class="line">        cost := sol.Cost()</span><br><span class="line">        <span class="keyword">if</span> cost &lt; bestCost &#123;</span><br><span class="line">            bestCost = cost</span><br><span class="line">            bestSol = sol</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bestSol</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>过程中，通过一个整数$c, 0 \le c &lt; 2^N$来表示$N$个设施的唯一一种开关状态，以其二进制数中的1表示开启，0表示关闭，因此遍历<code>c</code>即可遍历所有情况。</p>
<p>时间复杂度：$O(2^N)$<br>空间复杂度：$O(MN)$</p>
<p>实际实验过程中，当$N &gt; 20$时运行时间已经不可接受，应当使用其它的一些算法。</p>
<h3 id="实验结果-1"><a href="#实验结果-1" class="headerlink" title="实验结果"></a>实验结果</h3><table>
<thead>
<tr>
<th></th>
<th>Result</th>
<th>Time(s)</th>
</tr>
</thead>
<tbody><tr>
<td><a href="resutls/brute-force/p1">p1</a></td>
<td>8899.287</td>
<td>0.01975</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p2">p2</a></td>
<td>7943.402</td>
<td>0.01708</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p3">p3</a></td>
<td>9543.402</td>
<td>0.01890</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p4">p4</a></td>
<td>10947.538</td>
<td>0.01488</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p5">p5</a></td>
<td>8928.489</td>
<td>0.00602</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p6">p6</a></td>
<td>7729.489</td>
<td>0.00627</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p7">p7</a></td>
<td>9529.489</td>
<td>0.00606</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p8">p8</a></td>
<td>11259.081</td>
<td>0.00579</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p9">p9</a></td>
<td>8460.030</td>
<td>0.03576</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p10">p10</a></td>
<td>7617.000</td>
<td>0.03523</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p11">p11</a></td>
<td>9103.286</td>
<td>0.03549</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p12">p12</a></td>
<td>10363.911</td>
<td>0.03088</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p13">p13</a></td>
<td>8245.910</td>
<td>63.38475</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p14">p14</a></td>
<td>7125.641</td>
<td>63.63613</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p15">p15</a></td>
<td>8856.372</td>
<td>62.66329</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p16">p16</a></td>
<td>10456.372</td>
<td>61.17692</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p17">p17</a></td>
<td>8195.925</td>
<td>60.36199</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p18">p18</a></td>
<td>7100.582</td>
<td>69.37253</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p19">p19</a></td>
<td>8803.787</td>
<td>66.69740</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p20">p20</a></td>
<td>10403.787</td>
<td>60.53454</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p21">p21</a></td>
<td>8054.758</td>
<td>64.53812</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p22">p22</a></td>
<td>7092.000</td>
<td>64.51618</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p23">p23</a></td>
<td>8740.758</td>
<td>64.48915</td>
</tr>
<tr>
<td><a href="resutls/brute-force/p24">p24</a></td>
<td>10267.971</td>
<td>64.60072</td>
</tr>
<tr>
<td>p25</td>
<td>-</td>
<td>$\infty$</td>
</tr>
<tr>
<td>…</td>
<td>-</td>
<td>$\infty$</td>
</tr>
<tr>
<td>p71</td>
<td>-</td>
<td>$\infty$</td>
</tr>
</tbody></table>
<h2 id="Simulated-Annealing-模拟退火"><a href="#Simulated-Annealing-模拟退火" class="headerlink" title="Simulated Annealing 模拟退火"></a>Simulated Annealing 模拟退火</h2><p><a href="https://en.wikipedia.org/wiki/Simulated_annealing" target="_blank" rel="noopener">模拟退火算法</a>是一种优秀的局部搜索算法，它在做邻域搜索的同时，概率接受差解以跳出局部最小值。在CFLP中，将设施的一组开关组合视为一个状态，使用模拟退火算法的基本流程如下，</p>
<img src="/2018/12/18/cflp/sa.png">

<p>其中，内外层循环终止条件一般设定为经过一定数目的迭代次数后终止。</p>
<h3 id="参数设定"><a href="#参数设定" class="headerlink" title="参数设定"></a>参数设定</h3><ul>
<li>初始温度<code>T=100</code></li>
<li>内层循环数为<code>1000</code></li>
<li>外层循环数为<code>1000</code></li>
<li>温度下降方式为<code>T *= 0.99</code></li>
</ul>
<h3 id="初始解的生成"><a href="#初始解的生成" class="headerlink" title="初始解的生成"></a>初始解的生成</h3><p>初始全局解应当随机生成，即每个设施按均匀分布决定开或者不开。</p>
<h3 id="邻域搜索"><a href="#邻域搜索" class="headerlink" title="邻域搜索"></a>邻域搜索</h3><p>领域搜索即根据当前解生成下一个解，实验过程中发现模拟退火算法里使用多种邻域搜索方式共同作用比单种邻域搜索方式效果要好很多，实验中使用到的备选邻域操作有，</p>
<ol>
<li>随机开启/关闭某个设施。</li>
<li>随机开启/关闭一段连续的设施。</li>
<li>将某一段连续的设施的开关状态倒置。</li>
</ol>
<p>当需要生成新状态时，从上述三种方法中随机选择一种。</p>
<h3 id="Metropolis-准则"><a href="#Metropolis-准则" class="headerlink" title="Metropolis 准则"></a>Metropolis 准则</h3><p>Metropolis准则是模拟退火算法的核心所在，当这个准则满足时，接受生成的解并替换掉全局解。具体而言，Metropolis准则为</p>
<p>$$<br>\min\{1, e^{-\frac{C’-C}{T}}\} &lt; R<br>$$</p>
<p>其中，$C’$为生成的解的费用，$C$为全局解的费用，$T$为温度，$R$为$[0,1]$之间的随机数。</p>
<p>可见，当遇到好解时，$e^{-\frac{C’-C}{T}} &gt; 1$，必定会接收，但当遇到差解时，当温度高时，$e^{-\frac{C’-C}{T}}$比温度低时更加接近1，有概率接收此差解，且随着温度降低，接收差解的概率也降低，最终收敛到一个最优解。</p>
<h3 id="复杂度分析-1"><a href="#复杂度分析-1" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><p>模拟退火算法的代码过程如下，</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Solver)</span> <span class="title">solveBySA</span><span class="params">()</span> *<span class="title">Solution</span></span> &#123;</span><br><span class="line">    <span class="comment">// parameters</span></span><br><span class="line">    bestSol := s.initSolution()</span><br><span class="line">    bestSol.Shuffle()</span><br><span class="line">    <span class="keyword">for</span> !bestSol.Valid() &#123;</span><br><span class="line">        bestSol.Shuffle()</span><br><span class="line">    &#125;</span><br><span class="line">    bestSol.Assign()</span><br><span class="line">    bestCost := bestSol.Cost()</span><br><span class="line">    nExtIter := <span class="number">1000</span></span><br><span class="line">    nInnIter := <span class="number">1000</span></span><br><span class="line">    T := <span class="number">100.0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// searching</span></span><br><span class="line">    <span class="keyword">for</span> ext := <span class="number">0</span>; ext &lt; nExtIter; ext++ &#123;</span><br><span class="line">        <span class="keyword">for</span> inn := <span class="number">0</span>; inn &lt; nInnIter; inn++ &#123;</span><br><span class="line">            sol := CopySolution(bestSol)</span><br><span class="line">            sol.RandomAreaOperate()</span><br><span class="line">            <span class="keyword">for</span> !sol.Valid() &#123;</span><br><span class="line">                sol.RandomAreaOperate()</span><br><span class="line">            &#125;</span><br><span class="line">            sol.Assign()</span><br><span class="line">            costNext := sol.Cost()</span><br><span class="line">            <span class="keyword">if</span> math.Min(<span class="number">1</span>, math.Exp(bestCost-costNext)/T) &gt;= rand.Float64() &#123;</span><br><span class="line">                bestSol = sol</span><br><span class="line">                bestCost = costNext</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        log.Printf(<span class="string">"ExtIter=%d(%d) T=%.3f bestCost=%.3f\n"</span>, ext, nExtIter,</span><br><span class="line">            T, bestCost)</span><br><span class="line">        T *= <span class="number">0.99</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bestSol</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中在内层循环，复制解的复杂度为$O(MN)$，随机邻域操作的平均复杂度为$O(N)$，其余均为常数时间，因此整体算法的时间复杂度为$O(EIMN)$，其中$E$为外层循环数，$I$为内层循环数。</p>
<p>由于整个过程只需保持一个解，空间复杂度为$O(MN)$。</p>
<h3 id="实验结果-2"><a href="#实验结果-2" class="headerlink" title="实验结果"></a>实验结果</h3><p>在71个问题的问题集上的实验结果如下，</p>
<table>
<thead>
<tr>
<th></th>
<th>Result</th>
<th>Time(s)</th>
</tr>
</thead>
<tbody><tr>
<td><a href="results/sa/p1">p1</a></td>
<td>8899.287</td>
<td>49.67533</td>
</tr>
<tr>
<td><a href="results/sa/p2">p2</a></td>
<td>7943.402</td>
<td>46.02201</td>
</tr>
<tr>
<td><a href="results/sa/p3">p3</a></td>
<td>9549.287</td>
<td>43.71652</td>
</tr>
<tr>
<td><a href="results/sa/p4">p4</a></td>
<td>10947.538</td>
<td>41.95468</td>
</tr>
<tr>
<td><a href="results/sa/p5">p5</a></td>
<td>8928.489</td>
<td>49.61210</td>
</tr>
<tr>
<td><a href="results/sa/p6">p6</a></td>
<td>7729.489</td>
<td>49.43371</td>
</tr>
<tr>
<td><a href="results/sa/p7">p7</a></td>
<td>9529.489</td>
<td>49.90450</td>
</tr>
<tr>
<td><a href="results/sa/p8">p8</a></td>
<td>11259.650</td>
<td>49.82498</td>
</tr>
<tr>
<td><a href="results/sa/p9">p9</a></td>
<td>8460.030</td>
<td>38.91396</td>
</tr>
<tr>
<td><a href="results/sa/p10">p10</a></td>
<td>7617.000</td>
<td>41.85766</td>
</tr>
<tr>
<td><a href="results/sa/p11">p11</a></td>
<td>9103.286</td>
<td>39.19025</td>
</tr>
<tr>
<td><a href="results/sa/p12">p12</a></td>
<td>10363.911</td>
<td>39.63912</td>
</tr>
<tr>
<td><a href="results/sa/p13">p13</a></td>
<td>8245.910</td>
<td>62.59881</td>
</tr>
<tr>
<td><a href="results/sa/p14">p14</a></td>
<td>7125.641</td>
<td>63.83618</td>
</tr>
<tr>
<td><a href="results/sa/p15">p15</a></td>
<td>8856.372</td>
<td>56.31368</td>
</tr>
<tr>
<td><a href="results/sa/p16">p16</a></td>
<td>10456.372</td>
<td>55.16921</td>
</tr>
<tr>
<td><a href="results/sa/p17">p17</a></td>
<td>8195.925</td>
<td>62.16191</td>
</tr>
<tr>
<td><a href="results/sa/p18">p18</a></td>
<td>7129.274</td>
<td>74.85285</td>
</tr>
<tr>
<td><a href="results/sa/p19">p19</a></td>
<td>8803.787</td>
<td>59.92987</td>
</tr>
<tr>
<td><a href="results/sa/p20">p20</a></td>
<td>10403.787</td>
<td>59.71305</td>
</tr>
<tr>
<td><a href="results/sa/p21">p21</a></td>
<td>8139.000</td>
<td>56.84904</td>
</tr>
<tr>
<td><a href="results/sa/p22">p22</a></td>
<td>7124.000</td>
<td>59.69487</td>
</tr>
<tr>
<td><a href="results/sa/p23">p23</a></td>
<td>8780.306</td>
<td>54.46691</td>
</tr>
<tr>
<td><a href="results/sa/p24">p24</a></td>
<td>10298.306</td>
<td>50.47274</td>
</tr>
<tr>
<td><a href="results/sa/p25">p25</a></td>
<td>12233.713</td>
<td>546.33127</td>
</tr>
<tr>
<td><a href="results/sa/p26">p26</a></td>
<td>11152.713</td>
<td>540.89889</td>
</tr>
<tr>
<td><a href="results/sa/p27">p27</a></td>
<td>13117.713</td>
<td>548.15456</td>
</tr>
<tr>
<td><a href="results/sa/p28">p28</a></td>
<td>15183.478</td>
<td>608.56645</td>
</tr>
<tr>
<td><a href="results/sa/p29">p29</a></td>
<td>13831.838</td>
<td>3797.52276</td>
</tr>
<tr>
<td><a href="results/sa/p30">p30</a></td>
<td>12366.202</td>
<td>666.75613</td>
</tr>
<tr>
<td><a href="results/sa/p31">p31</a></td>
<td>14535.702</td>
<td>642.78949</td>
</tr>
<tr>
<td><a href="results/sa/p32">p32</a></td>
<td>17277.047</td>
<td>629.18618</td>
</tr>
<tr>
<td><a href="results/sa/p33">p33</a></td>
<td>12174.419</td>
<td>531.56347</td>
</tr>
<tr>
<td><a href="results/sa/p34">p34</a></td>
<td>11212.667</td>
<td>585.61782</td>
</tr>
<tr>
<td><a href="results/sa/p35">p35</a></td>
<td>13843.667</td>
<td>565.90143</td>
</tr>
<tr>
<td><a href="results/sa/p36">p36</a></td>
<td>14570.419</td>
<td>500.77183</td>
</tr>
<tr>
<td><a href="results/sa/p37">p37</a></td>
<td>11424.636</td>
<td>427.68900</td>
</tr>
<tr>
<td><a href="results/sa/p38">p38</a></td>
<td>10594.000</td>
<td>512.98266</td>
</tr>
<tr>
<td><a href="results/sa/p39">p39</a></td>
<td>11976.636</td>
<td>429.34593</td>
</tr>
<tr>
<td><a href="results/sa/p40">p40</a></td>
<td>13176.636</td>
<td>428.54124</td>
</tr>
<tr>
<td><a href="results/sa/p41">p41</a></td>
<td>6755.391</td>
<td>100.04381</td>
</tr>
<tr>
<td><a href="results/sa/p42">p42</a></td>
<td>5680.069</td>
<td>93.40380</td>
</tr>
<tr>
<td><a href="results/sa/p43">p43</a></td>
<td>5401.000</td>
<td>80.17776</td>
</tr>
<tr>
<td><a href="results/sa/p44">p44</a></td>
<td>7162.573</td>
<td>113.07130</td>
</tr>
<tr>
<td><a href="results/sa/p45">p45</a></td>
<td>6244.500</td>
<td>104.98954</td>
</tr>
<tr>
<td><a href="results/sa/p46">p46</a></td>
<td>5994.292</td>
<td>95.73207</td>
</tr>
<tr>
<td><a href="results/sa/p47">p47</a></td>
<td>6424.425</td>
<td>127.02732</td>
</tr>
<tr>
<td><a href="results/sa/p48">p48</a></td>
<td>5594.600</td>
<td>125.31068</td>
</tr>
<tr>
<td><a href="results/sa/p49">p49</a></td>
<td>5304.300</td>
<td>98.86595</td>
</tr>
<tr>
<td><a href="results/sa/p50">p50</a></td>
<td>9258.967</td>
<td>139.52326</td>
</tr>
<tr>
<td><a href="results/sa/p51">p51</a></td>
<td>7748.878</td>
<td>198.40947</td>
</tr>
<tr>
<td><a href="results/sa/p52">p52</a></td>
<td>9862.039</td>
<td>167.22943</td>
</tr>
<tr>
<td><a href="results/sa/p53">p53</a></td>
<td>8969.800</td>
<td>165.41922</td>
</tr>
<tr>
<td><a href="results/sa/p54">p54</a></td>
<td>9331.120</td>
<td>136.80022</td>
</tr>
<tr>
<td><a href="results/sa/p55">p55</a></td>
<td>7789.517</td>
<td>157.08357</td>
</tr>
<tr>
<td><a href="results/sa/p56">p56</a></td>
<td>21422.086</td>
<td>1343.04327</td>
</tr>
<tr>
<td><a href="results/sa/p57">p57</a></td>
<td>26388.956</td>
<td>1220.42790</td>
</tr>
<tr>
<td><a href="results/sa/p58">p58</a></td>
<td>37722.381</td>
<td>1176.16916</td>
</tr>
<tr>
<td><a href="results/sa/p59">p59</a></td>
<td>27645.265</td>
<td>1169.97743</td>
</tr>
<tr>
<td><a href="results/sa/p60">p60</a></td>
<td>20923.000</td>
<td>1212.31783</td>
</tr>
<tr>
<td><a href="results/sa/p61">p61</a></td>
<td>25621.657</td>
<td>1052.55700</td>
</tr>
<tr>
<td><a href="results/sa/p62">p62</a></td>
<td>33197.623</td>
<td>957.01278</td>
</tr>
<tr>
<td><a href="results/sa/p63">p63</a></td>
<td>25287.956</td>
<td>975.96980</td>
</tr>
<tr>
<td><a href="results/sa/p64">p64</a></td>
<td>20834.000</td>
<td>1602.66377</td>
</tr>
<tr>
<td><a href="results/sa/p65">p65</a></td>
<td>25093.000</td>
<td>868.34070</td>
</tr>
<tr>
<td><a href="results/sa/p66">p66</a></td>
<td>32522.450</td>
<td>762.51041</td>
</tr>
<tr>
<td><a href="results/sa/p67">p67</a></td>
<td>24932.180</td>
<td>900.71575</td>
</tr>
<tr>
<td><a href="results/sa/p68">p68</a></td>
<td>20884.000</td>
<td>1051.84617</td>
</tr>
<tr>
<td><a href="results/sa/p69">p69</a></td>
<td>25202.000</td>
<td>937.94478</td>
</tr>
<tr>
<td><a href="results/sa/p70">p70</a></td>
<td>32858.727</td>
<td>845.59141</td>
</tr>
<tr>
<td><a href="results/sa/p71">p71</a></td>
<td>25924.628</td>
<td>923.64509</td>
</tr>
</tbody></table>
<h2 id="综合对比"><a href="#综合对比" class="headerlink" title="综合对比"></a>综合对比</h2><p>三种算法在71个问题上的实验结果如下，您可以点击<a href="results/details.zip">此链接</a>下载所有解的详细结果，包括解的最终费用，开启的设施以及顾客的赋值情况。</p>
<table>
<thead>
<tr>
<th></th>
<th>Result(greedy)</th>
<th>Time(s)</th>
<th>Result(brute-force)</th>
<th>Time(s)</th>
<th>Result(sa)</th>
<th>Time(s)</th>
</tr>
</thead>
<tbody><tr>
<td><a href="results/greedy/p1">p1</a></td>
<td>12989.953</td>
<td>0.00004</td>
<td>8899.287</td>
<td>0.01975</td>
<td>8899.287</td>
<td>49.67533</td>
</tr>
<tr>
<td><a href="results/greedy/p2">p2</a></td>
<td>9288.850</td>
<td>0.00007</td>
<td>7943.402</td>
<td>0.01708</td>
<td>7943.402</td>
<td>46.02201</td>
</tr>
<tr>
<td><a href="results/greedy/p3">p3</a></td>
<td>10488.850</td>
<td>0.00008</td>
<td>9543.402</td>
<td>0.01890</td>
<td>9549.287</td>
<td>43.71652</td>
</tr>
<tr>
<td><a href="results/greedy/p4">p4</a></td>
<td>11688.850</td>
<td>0.00036</td>
<td>10947.538</td>
<td>0.01488</td>
<td>10947.538</td>
<td>41.95468</td>
</tr>
<tr>
<td><a href="results/greedy/p5">p5</a></td>
<td>10902.060</td>
<td>0.00008</td>
<td>8928.489</td>
<td>0.00602</td>
<td>8928.489</td>
<td>49.61210</td>
</tr>
<tr>
<td><a href="results/greedy/p6">p6</a></td>
<td>9832.666</td>
<td>0.00007</td>
<td>7729.489</td>
<td>0.00627</td>
<td>7729.489</td>
<td>49.43371</td>
</tr>
<tr>
<td><a href="results/greedy/p7">p7</a></td>
<td>11432.666</td>
<td>0.00006</td>
<td>9529.489</td>
<td>0.00606</td>
<td>9529.489</td>
<td>49.90450</td>
</tr>
<tr>
<td><a href="results/greedy/p8">p8</a></td>
<td>13032.666</td>
<td>0.00016</td>
<td>11259.081</td>
<td>0.00579</td>
<td>11259.650</td>
<td>49.82498</td>
</tr>
<tr>
<td><a href="results/greedy/p9">p9</a></td>
<td>10980.250</td>
<td>0.00010</td>
<td>8460.030</td>
<td>0.03576</td>
<td>8460.030</td>
<td>38.91396</td>
</tr>
<tr>
<td><a href="results/greedy/p10">p10</a></td>
<td>10458.043</td>
<td>0.00009</td>
<td>7617.000</td>
<td>0.03523</td>
<td>7617.000</td>
<td>41.85766</td>
</tr>
<tr>
<td><a href="results/greedy/p11">p11</a></td>
<td>11458.043</td>
<td>0.00006</td>
<td>9103.286</td>
<td>0.03549</td>
<td>9103.286</td>
<td>39.19025</td>
</tr>
<tr>
<td><a href="results/greedy/p12">p12</a></td>
<td>12458.043</td>
<td>0.00004</td>
<td>10363.911</td>
<td>0.03088</td>
<td>10363.911</td>
<td>39.63912</td>
</tr>
<tr>
<td><a href="results/greedy/p13">p13</a></td>
<td>11015.048</td>
<td>0.00028</td>
<td>8245.910</td>
<td>63.38475</td>
<td>8245.910</td>
<td>62.59881</td>
</tr>
<tr>
<td><a href="results/greedy/p14">p14</a></td>
<td>8514.791</td>
<td>0.00006</td>
<td>7125.641</td>
<td>63.63613</td>
<td>7125.641</td>
<td>63.83618</td>
</tr>
<tr>
<td><a href="results/greedy/p15">p15</a></td>
<td>10114.791</td>
<td>0.00012</td>
<td>8856.372</td>
<td>62.66329</td>
<td>8856.372</td>
<td>56.31368</td>
</tr>
<tr>
<td><a href="results/greedy/p16">p16</a></td>
<td>11714.791</td>
<td>0.00009</td>
<td>10456.372</td>
<td>61.17692</td>
<td>10456.372</td>
<td>55.16921</td>
</tr>
<tr>
<td><a href="results/greedy/p17">p17</a></td>
<td>10295.318</td>
<td>0.00006</td>
<td>8195.925</td>
<td>60.36199</td>
<td>8195.925</td>
<td>62.16191</td>
</tr>
<tr>
<td><a href="results/greedy/p18">p18</a></td>
<td>8543.171</td>
<td>0.00007</td>
<td>7100.582</td>
<td>69.37253</td>
<td>7129.274</td>
<td>74.85285</td>
</tr>
<tr>
<td><a href="results/greedy/p19">p19</a></td>
<td>10143.171</td>
<td>0.00013</td>
<td>8803.787</td>
<td>66.69740</td>
<td>8803.787</td>
<td>59.92987</td>
</tr>
<tr>
<td><a href="results/greedy/p20">p20</a></td>
<td>11743.171</td>
<td>0.00009</td>
<td>10403.787</td>
<td>60.53454</td>
<td>10403.787</td>
<td>59.71305</td>
</tr>
<tr>
<td><a href="results/greedy/p21">p21</a></td>
<td>12235.528</td>
<td>0.00022</td>
<td>8054.758</td>
<td>64.53812</td>
<td>8139.000</td>
<td>56.84904</td>
</tr>
<tr>
<td><a href="results/greedy/p22">p22</a></td>
<td>11363.414</td>
<td>0.00009</td>
<td>7092.000</td>
<td>64.51618</td>
<td>7124.000</td>
<td>59.69487</td>
</tr>
<tr>
<td><a href="results/greedy/p23">p23</a></td>
<td>12563.414</td>
<td>0.00005</td>
<td>8740.758</td>
<td>64.48915</td>
<td>8780.306</td>
<td>54.46691</td>
</tr>
<tr>
<td><a href="results/greedy/p24">p24</a></td>
<td>13763.414</td>
<td>0.00008</td>
<td>10267.971</td>
<td>64.60072</td>
<td>10298.306</td>
<td>50.47274</td>
</tr>
<tr>
<td><a href="results/greedy/p25">p25</a></td>
<td>78338.667</td>
<td>0.00039</td>
<td>-</td>
<td>$\infty$</td>
<td>12233.713</td>
<td>546.33127</td>
</tr>
<tr>
<td><a href="results/greedy/p26">p26</a></td>
<td>63710.947</td>
<td>0.00032</td>
<td>-</td>
<td>$\infty$</td>
<td>11152.713</td>
<td>540.89889</td>
</tr>
<tr>
<td><a href="results/greedy/p27">p27</a></td>
<td>65310.947</td>
<td>0.00032</td>
<td>-</td>
<td>$\infty$</td>
<td>13117.713</td>
<td>548.15456</td>
</tr>
<tr>
<td><a href="results/greedy/p28">p28</a></td>
<td>66910.947</td>
<td>0.00034</td>
<td>-</td>
<td>$\infty$</td>
<td>15183.478</td>
<td>608.56645</td>
</tr>
<tr>
<td><a href="results/greedy/p29">p29</a></td>
<td>65258.221</td>
<td>0.00040</td>
<td>-</td>
<td>$\infty$</td>
<td>13831.838</td>
<td>3797.52276</td>
</tr>
<tr>
<td><a href="results/greedy/p30">p30</a></td>
<td>54927.860</td>
<td>0.00038</td>
<td>-</td>
<td>$\infty$</td>
<td>12366.202</td>
<td>666.75613</td>
</tr>
<tr>
<td><a href="results/greedy/p31">p31</a></td>
<td>56927.860</td>
<td>0.00043</td>
<td>-</td>
<td>$\infty$</td>
<td>14535.702</td>
<td>642.78949</td>
</tr>
<tr>
<td><a href="results/greedy/p32">p32</a></td>
<td>58927.860</td>
<td>0.00145</td>
<td>-</td>
<td>$\infty$</td>
<td>17277.047</td>
<td>629.18618</td>
</tr>
<tr>
<td><a href="results/greedy/p33">p33</a></td>
<td>77701.857</td>
<td>0.00035</td>
<td>-</td>
<td>$\infty$</td>
<td>12174.419</td>
<td>531.56347</td>
</tr>
<tr>
<td><a href="results/greedy/p34">p34</a></td>
<td>53887.154</td>
<td>0.00033</td>
<td>-</td>
<td>$\infty$</td>
<td>11212.667</td>
<td>585.61782</td>
</tr>
<tr>
<td><a href="results/greedy/p35">p35</a></td>
<td>55487.154</td>
<td>0.00035</td>
<td>-</td>
<td>$\infty$</td>
<td>13843.667</td>
<td>565.90143</td>
</tr>
<tr>
<td><a href="results/greedy/p36">p36</a></td>
<td>57087.154</td>
<td>0.00065</td>
<td>-</td>
<td>$\infty$</td>
<td>14570.419</td>
<td>500.77183</td>
</tr>
<tr>
<td><a href="results/greedy/p37">p37</a></td>
<td>101999.196</td>
<td>0.00024</td>
<td>-</td>
<td>$\infty$</td>
<td>11424.636</td>
<td>427.68900</td>
</tr>
<tr>
<td><a href="results/greedy/p38">p38</a></td>
<td>73636.480</td>
<td>0.00020</td>
<td>-</td>
<td>$\infty$</td>
<td>10594.000</td>
<td>512.98266</td>
</tr>
<tr>
<td><a href="results/greedy/p39">p39</a></td>
<td>74636.480</td>
<td>0.00022</td>
<td>-</td>
<td>$\infty$</td>
<td>11976.636</td>
<td>429.34593</td>
</tr>
<tr>
<td><a href="results/greedy/p40">p40</a></td>
<td>75636.480</td>
<td>0.00020</td>
<td>-</td>
<td>$\infty$</td>
<td>13176.636</td>
<td>428.54124</td>
</tr>
<tr>
<td><a href="results/greedy/p41">p41</a></td>
<td>7276.556</td>
<td>0.00021</td>
<td>-</td>
<td>$\infty$</td>
<td>6755.391</td>
<td>100.04381</td>
</tr>
<tr>
<td><a href="results/greedy/p42">p42</a></td>
<td>8068.351</td>
<td>0.00010</td>
<td>-</td>
<td>$\infty$</td>
<td>5680.069</td>
<td>93.40380</td>
</tr>
<tr>
<td><a href="results/greedy/p43">p43</a></td>
<td>6383.929</td>
<td>0.00009</td>
<td>-</td>
<td>$\infty$</td>
<td>5401.000</td>
<td>80.17776</td>
</tr>
<tr>
<td><a href="results/greedy/p44">p44</a></td>
<td>7995.223</td>
<td>0.00021</td>
<td>-</td>
<td>$\infty$</td>
<td>7162.573</td>
<td>113.07130</td>
</tr>
<tr>
<td><a href="results/greedy/p45">p45</a></td>
<td>8089.250</td>
<td>0.00013</td>
<td>-</td>
<td>$\infty$</td>
<td>6244.500</td>
<td>104.98954</td>
</tr>
<tr>
<td><a href="results/greedy/p46">p46</a></td>
<td>6915.251</td>
<td>0.00009</td>
<td>-</td>
<td>$\infty$</td>
<td>5994.292</td>
<td>95.73207</td>
</tr>
<tr>
<td><a href="results/greedy/p47">p47</a></td>
<td>7705.325</td>
<td>0.00015</td>
<td>-</td>
<td>$\infty$</td>
<td>6424.425</td>
<td>127.02732</td>
</tr>
<tr>
<td><a href="results/greedy/p48">p48</a></td>
<td>7874.275</td>
<td>0.00019</td>
<td>-</td>
<td>$\infty$</td>
<td>5594.600</td>
<td>125.31068</td>
</tr>
<tr>
<td><a href="results/greedy/p49">p49</a></td>
<td>6960.522</td>
<td>0.00009</td>
<td>-</td>
<td>$\infty$</td>
<td>5304.300</td>
<td>98.86595</td>
</tr>
<tr>
<td><a href="results/greedy/p50">p50</a></td>
<td>12441.358</td>
<td>0.00025</td>
<td>-</td>
<td>$\infty$</td>
<td>9258.967</td>
<td>139.52326</td>
</tr>
<tr>
<td><a href="results/greedy/p51">p51</a></td>
<td>9382.546</td>
<td>0.00034</td>
<td>-</td>
<td>$\infty$</td>
<td>7748.878</td>
<td>198.40947</td>
</tr>
<tr>
<td><a href="results/greedy/p52">p52</a></td>
<td>13378.456</td>
<td>0.00016</td>
<td>-</td>
<td>$\infty$</td>
<td>9862.039</td>
<td>167.22943</td>
</tr>
<tr>
<td><a href="results/greedy/p53">p53</a></td>
<td>12650.089</td>
<td>0.00019</td>
<td>-</td>
<td>$\infty$</td>
<td>8969.800</td>
<td>165.41922</td>
</tr>
<tr>
<td><a href="results/greedy/p54">p54</a></td>
<td>10536.867</td>
<td>0.00016</td>
<td>-</td>
<td>$\infty$</td>
<td>9331.120</td>
<td>136.80022</td>
</tr>
<tr>
<td><a href="results/greedy/p55">p55</a></td>
<td>12258.408</td>
<td>0.00019</td>
<td>-</td>
<td>$\infty$</td>
<td>7789.517</td>
<td>157.08357</td>
</tr>
<tr>
<td><a href="results/greedy/p56">p56</a></td>
<td>32522.303</td>
<td>0.00113</td>
<td>-</td>
<td>$\infty$</td>
<td>21422.086</td>
<td>1343.04327</td>
</tr>
<tr>
<td><a href="results/greedy/p57">p57</a></td>
<td>37322.303</td>
<td>0.00119</td>
<td>-</td>
<td>$\infty$</td>
<td>26388.956</td>
<td>1220.42790</td>
</tr>
<tr>
<td><a href="results/greedy/p58">p58</a></td>
<td>48522.303</td>
<td>0.00209</td>
<td>-</td>
<td>$\infty$</td>
<td>37722.381</td>
<td>1176.16916</td>
</tr>
<tr>
<td><a href="results/greedy/p59">p59</a></td>
<td>30606.927</td>
<td>0.00110</td>
<td>-</td>
<td>$\infty$</td>
<td>27645.265</td>
<td>1169.97743</td>
</tr>
<tr>
<td><a href="results/greedy/p60">p60</a></td>
<td>37243.427</td>
<td>0.00082</td>
<td>-</td>
<td>$\infty$</td>
<td>20923.000</td>
<td>1212.31783</td>
</tr>
<tr>
<td><a href="results/greedy/p61">p61</a></td>
<td>40543.427</td>
<td>0.00142</td>
<td>-</td>
<td>$\infty$</td>
<td>25621.657</td>
<td>1052.55700</td>
</tr>
<tr>
<td><a href="results/greedy/p62">p62</a></td>
<td>48243.427</td>
<td>0.00082</td>
<td>-</td>
<td>$\infty$</td>
<td>33197.623</td>
<td>957.01278</td>
</tr>
<tr>
<td><a href="results/greedy/p63">p63</a></td>
<td>31843.780</td>
<td>0.00091</td>
<td>-</td>
<td>$\infty$</td>
<td>25287.956</td>
<td>975.96980</td>
</tr>
<tr>
<td><a href="results/greedy/p64">p64</a></td>
<td>34081.806</td>
<td>0.00061</td>
<td>-</td>
<td>$\infty$</td>
<td>20834.000</td>
<td>1602.66377</td>
</tr>
<tr>
<td><a href="results/greedy/p65">p65</a></td>
<td>36481.806</td>
<td>0.00061</td>
<td>-</td>
<td>$\infty$</td>
<td>25093.000</td>
<td>868.34070</td>
</tr>
<tr>
<td><a href="results/greedy/p66">p66</a></td>
<td>42081.806</td>
<td>0.00063</td>
<td>-</td>
<td>$\infty$</td>
<td>32522.450</td>
<td>762.51041</td>
</tr>
<tr>
<td><a href="results/greedy/p67">p67</a></td>
<td>32210.447</td>
<td>0.00096</td>
<td>-</td>
<td>$\infty$</td>
<td>24932.180</td>
<td>900.71575</td>
</tr>
<tr>
<td><a href="results/greedy/p68">p68</a></td>
<td>38955.963</td>
<td>0.00073</td>
<td>-</td>
<td>$\infty$</td>
<td>20884.000</td>
<td>1051.84617</td>
</tr>
<tr>
<td><a href="results/greedy/p69">p69</a></td>
<td>41955.963</td>
<td>0.00071</td>
<td>-</td>
<td>$\infty$</td>
<td>25202.000</td>
<td>937.94478</td>
</tr>
<tr>
<td><a href="results/greedy/p70">p70</a></td>
<td>48955.963</td>
<td>0.00128</td>
<td>-</td>
<td>$\infty$</td>
<td>32858.727</td>
<td>845.59141</td>
</tr>
<tr>
<td><a href="results/greedy/p71">p71</a></td>
<td>31843.976</td>
<td>0.00096</td>
<td>-</td>
<td>$\infty$</td>
<td>25924.628</td>
<td>923.64509</td>
</tr>
</tbody></table>
<p>可以发现，模拟退火的算法要远好于贪心算法，并且与有结果的暴力求解的结果十分相近。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/leetcode-233/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/leetcode-233/" itemprop="url">
                  【LeetCode】233. Number of Digit One
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-01 22:09:42" itemprop="dateCreated datePublished" datetime="2018-12-01T22:09:42+09:00">2018-12-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/number-of-digit-one/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>给定一个整数<code>n</code>，求所有小于等于<code>n</code>的非负整数中数字<code>1</code>的个数之和。</p>
<h2 id="暴力求解（TLE）"><a href="#暴力求解（TLE）" class="headerlink" title="暴力求解（TLE）"></a>暴力求解（TLE）</h2><p>本题可使用暴力求解枚举每一个小于等于<code>n</code>的非负整数，虽然C语言给定的参数是<code>int</code>，但穷举依然会超时。</p>
<p>时间复杂度：$O(n)$<br>空间复杂度：$O(1)$</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>标答中给出了一种基于数学的方法，但本题依然可使用动态规划的思想求解。</p>
<p>状态设计：</p>
<p>令<code>DP[i]</code>表示前<code>i</code>位数的答案。</p>
<p>状态转移：</p>
<p>这样的状态设计可以使复杂度降至$O(d)$，$d$表示<code>n</code>的位数，但是状态转移过程不单单涉及到前一状态，还涉及到一些已知的结论。</p>
<p>令<code>digits[i]</code>表示第<code>i + 1</code>个数字，<code>nums[i]</code>表示前<code>i + 1</code>位数组成的数字（<code>i</code>低到高，<code>i = 0, 1, 2, ..., d - 1</code>），<code>nines[i]</code>表示<code>i</code>个<code>9</code>组成的数字的答案，则有</p>
<ul>
<li><code>nines[i] = nines[i - 1] * 10 + pow(10, i - 1)</code>；</li>
<li>当<code>digits[i] == 0</code>时，<code>DP[i] = DP[i - 1]</code>；</li>
<li>当<code>digits[i] == 1</code>时，<code>DP[i] = DP[i - 1] + nums[i - 1] + 1 + nines[i]</code>；</li>
<li>当<code>digits[i] &gt; 1</code>时，<code>DP[i] = DP[i - 1] + nines[i] * digits[i] + pow(10, i)</code>。</li>
</ul>
<p>具体来说，一个位数为$d$的数$n$可以做如下分解：</p>
<p>$$<br>n = n_{(d)} * 10^{d - 1} + n’<br>$$</p>
<p>其中$n’$表示去除最高位所得的数，$n_{(i)}$为整数$n$第$i$位的数字。在算法中<code>DP[i - 1]</code>即表达了数$n’$对应的答案，剩余部分可分为三种情况：</p>
<ul>
<li>$n_{(d)} = 0$，这种情况只会不会出现在最高位，直接相等即可。</li>
<li>$n_{(d)} = 1$，则对于任意$0 \le k \le n’$，首位的1都会计算一次次数，这部分的次数为<code>nums[i - 1] + 1</code>次；同时，$10^{d - 1}$的部分则为$d - 1$个$9$组成的数字的答案。</li>
<li>$n_{(d)} &gt; 1$，则$n_{(d)} * 10^{d - 1}$的部分包括$n_{(d)}$个$d - 1$个$9$组成的数字的答案以及经过第$d$位为1时数字的个数共$10^{d - 1}$个。</li>
</ul>
<img src="/2018/12/01/leetcode-233/example.png">

<p>综上所述，算法的时间复杂度为$O(d)$，空间复杂度为$O(d)$，其中$d$为数字的位数。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/12/01/leetcode-233/leetcode-233.pdf" title="我的解答">我的解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/leetcode-221/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/leetcode-221/" itemprop="url">
                  【LeetCode】221. Maximal Square
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-01 21:42:58" itemprop="dateCreated datePublished" datetime="2018-12-01T21:42:58+09:00">2018-12-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/maximal-square/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>一个典型的2D平面上的动态规划问题。给定一个仅有<code>0</code>和<code>1</code>矩阵，找出其中最大的，仅包含<code>1</code>的正方形。</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>状态定义：</p>
<p>定义<code>DP[i][j]</code>表示矩阵<code>M</code>中以位置<code>(i, j)</code>为右下角的最大的正方形的边长。</p>
<p>状态转移方程：</p>
<p>由上述状态定义可知，当<code>M[i][j] == 0</code>时，<code>DP[i][j] = 0</code>；否则<code>DP[i][j]</code>由<code>DP[i - 1][j]</code>、<code>DP[i][j - 1]</code>、<code>DP[i - 1][j - 1]</code>中的最小值决定——考虑这三个值相等时，<code>DP[i][j]</code>可以组合使边长增加1，同时若这三个值不同时增加，都无法再增加<code>DP[i][j]</code>的值。</p>
<p>因此，状态转移方程表示为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DP[i][j] == 0 if M[i][j] == 0</span><br><span class="line">DP[i][j] == M[i][j] if i == 0 || j == 0</span><br><span class="line">DP[i][j] == min&#123;DP[i - 1][j], DP[i][j - 1], DP[i - 1][j - 1]&#125; + 1 if i &gt; 0 &amp;&amp; j &gt; 0 &amp;&amp; M[i][j] == 1</span><br></pre></td></tr></table></figure>

<p>算法的时间复杂度为$O(MN)$，空间复杂度为$O(MN)$，其中输入矩阵为$M \times N$的矩阵。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/12/01/leetcode-221/leetcode-221.pdf" title="我的解答">我的解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/leetcode-857/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/leetcode-857/" itemprop="url">
                  【LeetCode】857. Minimum Cost to Hire K Workers
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-01 18:07:47" itemprop="dateCreated datePublished" datetime="2018-12-01T18:07:47+09:00">2018-12-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/minimum-cost-to-hire-k-workers/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>给定<code>N</code>个工人，每个工人有一个<code>quality</code>值和一个<code>wage</code>值，要求在<code>N</code>个工人中雇佣<code>K</code>个人，并按照如下标准发放工资：</p>
<ul>
<li>每个人被发放的工资<code>pay</code>与<code>quality</code>的比值必须相同。</li>
<li>每个人被发放的工资<code>pay</code>必须大于<code>wage</code>。</li>
</ul>
<p>求总工资的最小值。</p>
<h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><p>首先，对题目中的两个条件进行解读。</p>
<p>由题中第一个条件可知：</p>
<p><strong>选定的<code>K</code>个人中，每人发放的实际工资<code>pay</code>与<code>quality</code>的比值相同。</strong></p>
<p>定义价性比<code>ratio = wage / quality</code>，表达每个工人单位<code>quality</code>期望的工资，定义实际价性比<code>ratio_ = pay / quality</code>，那么由题中第二个条件可知：</p>
<p><strong>选定的<code>K</code>个人中，每人发放的实际工资<code>pay</code>与<code>quality</code>的比值必须大于<code>ratio</code>。</strong></p>
<p>综上所述，可得本题关键性的信息：</p>
<p><strong>选定的<code>K</code>个人中，<code>ratio_ &gt;= max{ratio}</code>，即实际价性比不得低于雇佣的工人中最高的期望价性比。</strong></p>
<p>又因为总工资<code>cost = ratio_ * sum(quality)</code>，所以要使得总工资尽可能的小，就要使<code>ratio_</code>和<code>sum(quality)</code>尽可能小，因此可得具体的算法流程如下：</p>
<ol>
<li>对所有人按价性比进行排序。</li>
<li>选择价性比最低的前<code>K</code>个人作为初始集，计算总工资。</li>
<li>从第<code>K + 1</code>个人开始，循环如下过程直至无人可以添加：<ol>
<li>踢出原集合中<code>quality</code>最大的工人，并添加该新工人。</li>
<li>重新计算<code>quality</code>的总和。</li>
<li>重新计算总工资，若小于当前最小值，则更新该值。</li>
</ol>
</li>
</ol>
<p>上述算法本质即遍历所有可能的价性比，找出最小的总工资。</p>
<h2 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h2><p>本题的空间复杂度为$O(N)$，但时间复杂度并不那么直观，需要逐步分析。</p>
<ol>
<li>对所有人的价性比进行排序。（$O(NlogN)$）</li>
<li>选择价性比最低的前<code>K</code>个人作为初始集，计算总工资。（$O(N)$）</li>
<li>从第<code>K + 1</code>个人开始，循环如下过程直至无人可以添加：（$O(N)$）<ol>
<li>踢出原集合中<code>quality</code>最大的工人，并添加该新工人。（$O(logN)$）</li>
<li>重新计算<code>quality</code>的总和。（$O(1)$）</li>
<li>重新计算总工资，若小于当前最小值，则更新该值。（$O(1)$）</li>
</ol>
</li>
</ol>
<p>其中步骤3.1的复杂度依赖于具体实现方式，使用优先队列实现可以保证复杂度为$O(logN)$。</p>
<p>步骤3.2只需要取出踢出的工人和新工人的<code>quality</code>值即可计算，复杂度为常数时间。</p>
<p>步骤3.3中用新工人的<code>ratio</code>作为总<code>ratio_</code>进行计算，复杂度为常数时间。</p>
<p>综上所述，时间复杂度为$O(NlogN)$，空间复杂度为$O(N)$。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/12/01/leetcode-857/leetcode-857.pdf" title="我的解答">我的解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/leetcode-72/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/leetcode-72/" itemprop="url">
                  【LeetCode】72. Edit Distance
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-01 13:34:05" itemprop="dateCreated datePublished" datetime="2018-12-01T13:34:05+09:00">2018-12-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/edit-distance/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>编辑距离问题是经典的实用问题。给定一个字符串，定义在该字符串的三种操作：</p>
<ul>
<li>插入一个字符</li>
<li>删除一个字符</li>
<li>替换一个字符</li>
</ul>
<p>那么两个字符串<code>A</code>和<code>B</code>的编辑距离定义为通过上述三种操作将<code>A</code>编辑成<code>B</code>的最少操作数。</p>
<p>问题给定两个字符串，求其之间的编辑距离。</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>编辑距离问题也是一个经典的动态规划问题，直观上很难求解的两个字符串的编辑距离通过状态转移就能轻易解出。</p>
<p>定义状态：</p>
<p><code>DP[i][j]</code>表示<code>A</code>的长度为<code>i</code>的前缀到<code>B</code>的长度为<code>j</code>的前缀的编辑距离；那么答案为<code>DP[|A|][|B|]</code>。</p>
<p>定义状态转移方程：</p>
<p><code>DP[i][j]</code>可以通过<code>DP[i-1][j]</code>，<code>DP[i][j-1]</code>以及<code>DP[i-1][j-1]</code>求得，具体来说：</p>
<ul>
<li>当<code>A[i-1]</code>与<code>B[j-1]</code>相等时，<code>DP[i][j] = DP[i-1][j-1]</code>。</li>
<li>当<code>A[i-1]</code>与<code>B[j-1]</code>不等时，考虑下面三种情况的最小值：<ul>
<li><code>DP[i-1][j] + 1</code>，由<code>A</code>的前<code>i-1</code>个字符变为<code>B</code>的前<code>j</code>个字符并删除<code>A[i]</code>；</li>
<li><code>DP[i][j-1] + 1</code>，由<code>A</code>的前<code>i</code>个字符变为<code>B</code>的前<code>j-1</code>个字符并新增<code>B[j]</code>；</li>
<li><code>DP[i-1][j-1] + 1</code>，由<code>A</code>的前<code>i-1</code>个字符变为<code>B</code>的前<code>j-1</code>个字符并替换<code>A[i]</code>。</li>
</ul>
</li>
</ul>
<p>综上，可得状态转移方程如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DP[0][j] = j for all j in 0, 1, ..., |B|</span><br><span class="line">DP[i][0] = i for all i in 0, 1, ..., |A|</span><br><span class="line">DP[i][j] = DP[i - 1][j - 1] if A[i - 1] == B[j - 1]</span><br><span class="line">DP[i][j] = min&#123;DP[i - 1][j], DP[i][j - 1], DP[i - 1][j - 1]&#125; + 1 if A[i - 1] != B[j - 1]</span><br></pre></td></tr></table></figure>

<p>时间复杂度：$O(|A||B|)$<br>空间复杂度：$O(|A||B|)$</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/12/01/leetcode-72/leetcode-72.pdf" title="我的解答">我的解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/19/leetcode-773/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="r0beRT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/19709067">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RASIS">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/19/leetcode-773/" itemprop="url">
                  【LeetCode】773. Sliding Puzzle
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-19 14:14:36" itemprop="dateCreated datePublished" datetime="2018-11-19T14:14:36+09:00">2018-11-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2024-10-23 11:57:12" itemprop="dateModified" datetime="2024-10-23T11:57:12+09:00">2024-10-23</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/sliding-puzzle/" target="_blank" rel="noopener">Problem Link</a></p>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>LeetCode第773号问题是一个“六数码”问题，跟人们熟知的八数码问题唯一区别在于棋盘大小。本问题是一个在2*3的棋盘上的六数码问题，最大的状态数为全排列的个数<code>6!=720</code>，因此可以放心使用宽度优先搜索寻找答案。</p>
<h2 id="宽度优先搜索"><a href="#宽度优先搜索" class="headerlink" title="宽度优先搜索"></a>宽度优先搜索</h2><p>定义一个棋盘“局面”为图中的一个点，从问题给定的初始结点出发进行宽度优先搜索，每次搜索一步能到达的所有相邻结点。</p>
<img src="/2018/11/19/leetcode-773/graph.png">

<p>除了每次搜索相邻所有节点以外，还要记住所有已经访问过的节点，避免重复访问造成死循环。</p>
<p>宽度优先搜索以队列作为主要数据结构实现，实现过程中为了优化速度，可以将状态使用更加高效的方式表示，例如用字符串或一维的排列表示要优于使用二维数组表示。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><a href="/2018/11/19/leetcode-773/leetcode-773.pdf" title="我的解答">我的解答</a>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars1.githubusercontent.com/u/19709067" alt="r0beRT">
            
              <p class="site-author-name" itemprop="name">r0beRT</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/r0bertr" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:dr.paper@live.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2024</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">r0beRT</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    
  


  
  

  

  

  

  

  

</body>
</html>
